(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[108],{7449:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workOrder",function(){return t(2937)}])},3552:function(e,a,t){"use strict";t.d(a,{C8:function(){return l},E$:function(){return i},N2:function(){return d},R5:function(){return u},ZJ:function(){return n},kF:function(){return o},pu:function(){return c},px:function(){return s}});var r=t(5502);let s=e=>(0,r.Z)({url:"/apsbackend/asset/list",method:"post",data:e}),d=e=>(0,r.Z)({url:"/apsbackend/asset/upload",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}),n=e=>(0,r.Z)({url:"/apsbackend/asset/create",method:"post",data:e}),l=e=>(0,r.Z)({url:"/apsbackend/assetType/allList",method:"post",data:e}),i=e=>(0,r.Z)({url:"/apsbackend/department/allList",method:"post",data:e}),o=e=>(0,r.Z)({url:"/apsbackend/department/create",method:"post",data:e}),c=e=>(0,r.Z)({url:"/apsbackend/asset/delete",method:"post",data:e}),u=e=>(0,r.Z)({url:"/apsbackend/asset/update",method:"post",data:e})},1404:function(e,a,t){"use strict";var r=t(5893),s=t(7294),d=t(2605),n=t(8808),l=t(9992),i=t(3570),o=t(8748),c=t(8115),u=t(6817),h=t(2327),m=t(9375),p=t(648),x=t.n(p),v=t(9332),y=t(277);a.Z=e=>{let a=(0,v.useRouter)(),t=(0,v.usePathname)(),{theme:p,setTheme:j}=(0,s.useContext)(y.N),[g,T]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:x().layoutCont,children:[(0,r.jsx)(d.Q2A,{theme:p.headerTheme,children:(0,r.jsxs)(d.h4i,{"aria-label":"SUPCON WMS",children:[(0,r.jsx)(d.zl5,{}),(0,r.jsx)(d.wID,{className:"cursor-pointer","aria-label":g?"Close menu":"Open menu",onClick:()=>{T(!g)},isActive:g,"aria-expanded":g}),(0,r.jsx)(d.nho,{className:"cursor-pointer",prefix:"SUPCON",onClick:()=>{a.push("/dashboard")},children:"APM"}),(0,r.jsxs)(d.sLE,{className:"flex items-center",children:[(0,r.jsx)(d.ZDl,{labelA:"Light",labelB:"Dark",size:"sm",id:"theme-toggle",toggled:"g100"===p.headerTheme,onToggle:e=>{e?j({headerTheme:"g100",contentTheme:"g10",sideNavTheme:"g90"}):j({headerTheme:"white",contentTheme:"white",sideNavTheme:"white"})}}),(0,r.jsx)(d.JMr,{"aria-label":"Settings",children:(0,r.jsx)(n.Zr,{size:20})}),(0,r.jsx)(d.JMr,{"aria-label":"User",children:(0,r.jsx)(l.n5,{size:20})}),(0,r.jsx)(d.JMr,{"aria-label":"Info",tooltipAlignment:"end",children:(0,r.jsx)(i.d,{size:20})})]})]})}),(0,r.jsx)(d.Q2A,{theme:p.sideNavTheme,children:(0,r.jsx)(d.kwZ,{"aria-label":"Side navigation",expanded:g,addFocusListeners:!1,className:"w-10",children:(0,r.jsxs)(d.LDp,{isSideNavExpanded:g,children:[(0,r.jsx)(d.yTF,{className:"cursor-pointer",isSideNavExpanded:g,renderIcon:o.A,onClick:()=>{console.log(g,"isSideNavExpanded"),a.push("/dashboard")},isActive:"/dashboard"===t,children:"Dashboard"}),(0,r.jsx)(d.yTF,{className:"cursor-pointer",isSideNavExpanded:g,renderIcon:c.l4,onClick:()=>{a.push("/assets")},isActive:"/assets"===t,children:"Assets"}),(0,r.jsx)(d.yTF,{className:"cursor-pointer",isSideNavExpanded:g,renderIcon:i.Xx,onClick:()=>{a.push("/inventory")},isActive:"/inventory"===t,children:"Inventory"}),(0,r.jsx)(d.yTF,{className:"cursor-pointer",isSideNavExpanded:g,renderIcon:u.P0,onClick:()=>{a.push("/workOrder")},isActive:"/workOrder"===t,children:"Work Order"}),(0,r.jsx)(d.yTF,{className:"cursor-pointer",isSideNavExpanded:g,renderIcon:h.$m,onClick:()=>{a.push("/schedule")},isActive:"/schedule"===t,children:"Schedule"}),(0,r.jsx)(d.yTF,{className:"cursor-pointer",isSideNavExpanded:g,renderIcon:m.tM,onClick:()=>{a.push("/maintenance")},isActive:"/maintenance"===t,children:"Maintenance"}),(0,r.jsx)(d.yTF,{className:"cursor-pointer",isSideNavExpanded:g,renderIcon:c.Jg,onClick:()=>{a.push("/space")},isActive:"/space"===t,children:"Space"})]})})}),(0,r.jsx)(d.Q2A,{theme:p.contentTheme,style:{minHeight:"100vh",minWidth:"630px"},children:(0,r.jsx)(d.VYI,{style:{height:"100%"},children:(0,r.jsx)("div",{className:x().body,children:(0,r.jsx)("div",{className:x().bodyCont,children:e.children})})})})]})}},8082:function(e,a,t){"use strict";var r=t(5893),s=t(7294),d=t(2605),n=t(8610),l=t.n(n);a.Z=e=>{let{addModal:a,modalTitle:t,changeModalOpen:n,addConfirm:i}=e,[o,c]=(0,s.useState)({text:""}),[u,h]=(0,s.useState)(!0);return(0,r.jsx)("div",{className:l().ModalFromStyle,children:(0,r.jsx)(d.u_l,{open:a,modalHeading:t,primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:()=>{c({text:""}),n(!1)},onRequestSubmit:e=>{h(!0),i({...o})},primaryButtonDisabled:u,children:(0,r.jsx)(d.oil,{id:"addText",labelText:"",placeholder:t,value:o.text,onChange:e=>{c({text:e.target.value}),h(!1)}})})})}},892:function(e,a,t){"use strict";var r=t(5893);t(7294);var s=t(2605),d=t(8610),n=t.n(d);a.Z=e=>{let{deleteModalIsopen:a,changeModalOpen:t,delConfirm:d}=e;return(0,r.jsx)("div",{className:n().ModalFromStyle,children:(0,r.jsx)(s.u_l,{open:a,modalHeading:"Deletion confirmation",primaryButtonText:"Detele",secondaryButtonText:"Cancel",onRequestClose:()=>{t(!1)},onRequestSubmit:e=>{d()},children:(0,r.jsx)("div",{className:"pl-5 pt-5",children:"Are you sure you want to delete?"})})})}},2937:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return z}});var r=t(7582),s=t(5893),d=t(7294),n=t(1163),l=t(2605),i=t(9008),o=t.n(i),c=t(1404),u=t(4184),h=t.n(u),m=t(7926),p=t.n(m),x=t(5067),v=t.n(x),y=t(9562),j=t.n(y),g=t(892),T=t(5502);let b=e=>(0,T.Z)({url:"/apsbackend/workOrder/list",method:"post",data:e}),N=e=>(0,T.Z)({url:"/apsbackend/workOrder/create",method:"post",data:e}),k=e=>(0,T.Z)({url:"/apsbackend/workOrder/delete",method:"post",data:e});var C=t(8115),I=t(381),f=t.n(I),S=t(1187),_=t(3552),O=t(8082),F=t(8610),w=t.n(F),M=e=>{let{createModalIsopen:a,changeState:t,createModaType:r,tableData:n,reloadingData:i}=e,[o,c]=(0,d.useState)([]),[u,h]=(0,d.useState)(!1),[m,p]=(0,d.useState)(!1),[x,v]=(0,d.useState)({orderNameInvalid:!1,orderIdInvalid:!1,assetIdInvalid:!1}),[y,j]=(0,d.useState)({orderName:"",orderId:"",assetId:"",orderType:"",status:"",priority:"",creationTime:"",dueTime:"",assignedTo:"",created_by:"",description:""});(0,d.useEffect)(()=>{b()},[a]);let g=e=>{let{id:a,value:t}=e.target;j(e=>({...e,[a]:t}))},T=()=>{j({orderName:"",orderId:"",assetId:"",orderType:"",status:"",priority:"",creationTime:"",dueTime:"",assignedTo:"",created_by:"",description:""}),v({assetNameInvalid:!1,assetIdInvalid:!1,snInvalid:!1}),p(!1),t({createModalIsopen:!1})},b=async()=>{var e;let a=await (0,_.E$)();if((null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.code)==200){let{data:e}=null==a?void 0:a.data;c(e)}},k=async e=>{var a;let t={departmentName:e.text},r=await (0,_.kF)(t);(null==r?void 0:null===(a=r.data)||void 0===a?void 0:a.code)==200?await b():S.ZP.error("Failed to add Assigned To"),h(!1)},I=async()=>{var e;let a=await N(y);(null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.code)==200?(i(),T()):S.ZP.error("Failed to create Work Order"),p(!1)};return(0,s.jsxs)("div",{className:w().ModalFromStyle,children:[!u&&(0,s.jsx)(l.u_l,{open:a,modalHeading:"edit"==r?"Work Order - ".concat(null==n?void 0:n.work_order):"create"==r?"Create a New Work Order":void 0,primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:T,onRequestSubmit:e=>{e.preventDefault();let a={orderNameInvalid:!y.orderName||""===y.orderName,orderIdInvalid:!y.orderId||""===y.orderId,assetIdInvalid:!y.assetId||""===y.assetId};if(v(a),!Object.values(a).some(e=>e)){p(!0),I(y);return}},primaryButtonDisabled:m,children:(0,s.jsxs)(l.rjZ,{className:"pl-0 pr-0",children:[(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(l.oil,{className:"mb-8",id:"orderName",labelText:"Order Name",placeholder:"Order Name",required:!0,invalid:x.orderNameInvalid,invalidText:"This field cannot be empty",value:y.orderName,onChange:g,onFocus:e=>{}})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(l.oil,{className:"mb-8",id:"orderId",labelText:"Work Order Id",placeholder:"house#1",required:!0,invalid:x.orderIdInvalid,invalidText:"This field cannot be empty",value:y.orderId,onChange:g})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(l.oil,{className:"mb-8",id:"assetId",labelText:"Asset Id",placeholder:"Asset Id",required:!0,invalid:x.assetIdInvalid,invalidText:"This field cannot be empty",value:y.assetId,onChange:g,onFocus:e=>{}})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(l.oil,{className:"mb-8",id:"orderType",labelText:"Work Order Type",placeholder:"Work Order Type",value:y.orderType,onChange:g})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsxs)(l.PhF,{className:"mb-8",id:"status",labelText:"Status",value:y.status,onChange:g,children:[(0,s.jsx)(l.QlF,{value:"",text:"Choose an option"}),[{label:"Open",type:"green"},{label:"In Progress",type:"blue"},{label:"Review",type:"purple"},{label:"Dued",type:"magenta"},{label:"Closed",type:"red"}].map((e,a)=>(0,s.jsx)(l.QlF,{value:a+1,text:e.label},a))]})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsxs)(l.PhF,{className:"mb-8",id:"priority",labelText:"Priority",value:y.priority,onChange:g,children:[(0,s.jsx)(l.QlF,{value:"",text:"Choose an option"}),(0,s.jsx)(l.QlF,{value:"1",text:"1"}),(0,s.jsx)(l.QlF,{value:"2",text:"2"}),(0,s.jsx)(l.QlF,{value:"3",text:"3"})]})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(l.Mtg,{value:f()(y.creationTime,"YYYY-MM-DD").valueOf(),className:"mb-8",datePickerType:"single",onChange:e=>{j({...y,creationTime:f()(e[0]).format("YYYY-MM-DD")})},children:(0,s.jsx)(l.aj6,{id:"creationTime",labelText:"Creation Time",placeholder:"mm/dd/yyyy"})})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(l.Mtg,{value:f()(y.dueTime,"YYYY-MM-DD").valueOf(),className:"mb-8",datePickerType:"single",onChange:e=>{j({...y,dueTime:f()(e[0]).format("YYYY-MM-DD")})},children:(0,s.jsx)(l.aj6,{id:"dueTime",labelText:"Due Time",placeholder:"mm/dd/yyyy"})})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:8,children:(0,s.jsxs)(l.PhF,{className:"mb-8",id:"assignedTo",labelText:(0,s.jsxs)("div",{style:{display:"flex"},onClick:()=>{h(!0)},children:[(0,s.jsx)("span",{className:"mr-1",children:"Assigned To"}),(0,s.jsx)(C.ET,{})]}),value:y.assignedTo,onChange:g,children:[(0,s.jsx)(l.QlF,{value:"",text:"Choose an option"}),o.map((e,a)=>(0,s.jsx)(l.QlF,{value:e.id,text:e.departmentName},a))]})}),(0,s.jsx)(l.sgG,{sm:4,md:4,lg:16,children:(0,s.jsx)(l.oil,{id:"description",labelText:"Description",placeholder:"Description",value:y.description,onChange:g})})]})}),(0,s.jsx)(O.Z,{addModal:u,modalTitle:"Assigned To",changeModalOpen:e=>{h(!1)},addConfirm:async e=>{await k(e)}})]})},D=function(e){let{formValue:a,changeState:t,isSearchClicked:r,createModalIsopen:n,createModaType:i,tableData:o}=e,c=[{key:"orderId",header:"Work Order"},{key:"orderName",header:"Order Name"},{key:"description",header:"Description"},{key:"priority",header:"Priority"},{key:"assetId",header:"Asset ID"},{key:"creationTime",header:"Creation Time"},{key:"dueTime",header:"Due Time"},{key:"status",header:"Status"},{key:"edit",header:"Edit"}],u={1:{label:"Open",type:"green"},2:{label:"In Progress",type:"blue"},3:{label:"Review",type:"purple"},4:{label:"Dued",type:"magenta"},5:{label:"Closed",type:"red"}},[m,p]=(0,d.useState)(1),[x,y]=(0,d.useState)(10),[T,N]=(0,d.useState)(5),[C,I]=(0,d.useState)([]),[f,S]=(0,d.useState)(!1),[_,O]=(0,d.useState)({});(0,d.useEffect)(()=>{F()},[]);let F=()=>{t({formValue:{orderId:"",orderName:"",orderType:"",creationTime:""}}),w({pageNum:1,pageSize:10})};(0,d.useEffect)(()=>{r&&(w({...a,pageNum:1,pageSize:10}),t({isSearchClicked:!1}))},[r]);let w=async e=>{var a;let t={pageNum:m,pageSize:x,...e},r=await b(t);if((null==r?void 0:null===(a=r.data)||void 0===a?void 0:a.code)==200){let{data:e}=null==r?void 0:r.data;I(null==e?void 0:e.list),N(null==e?void 0:e.total),p(null==e?void 0:e.pageNum),y(null==e?void 0:e.pageSize)}},D=async()=>{var e;if(Object.keys(_).length<1)return;let{id:t}=_,r=await k({id:t});(null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.code)==200&&(S(!1),O({}),w({...a,pageNum:m,pageSize:x}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:h()(v().tableStyle,j().workOrderTable),children:[(0,s.jsx)(l.xJi,{children:(0,s.jsxs)(l.iA_,{children:[(0,s.jsx)(l.ssF,{children:(0,s.jsx)(l.SCH,{children:c.map((e,a)=>"status"==e.key?(0,s.jsx)(l.xDH,{style:{minWidth:"125px"},children:e.header},e.key):(0,s.jsx)(l.xDH,{children:e.header},e.key))})}),(0,s.jsx)(l.RMI,{children:C.map((e,a)=>(0,s.jsx)(l.SCH,{children:c.map(a=>{if("edit"===a.key)return(0,s.jsx)(l.pj1,{children:(0,s.jsx)("span",{className:j().delText,onClick:()=>{O(e),S(!0)},children:"Delete"})},"".concat(e.assetId,"-").concat(a.key));if("status"===a.key){var t,r;let d=null===(t=u[e[a.key]])||void 0===t?void 0:t.type,n=null===(r=u[e[a.key]])||void 0===r?void 0:r.label;return(0,s.jsx)(l.pj1,{style:{width:120},children:n&&(0,s.jsx)(l.Vp9,{type:d,children:n})},"".concat(e.assetId,"-").concat(a.key))}return(0,s.jsx)(l.pj1,{children:e[a.key]},"".concat(e.assetId,"-").concat(a.key))})},e.assetId))})]})}),(0,s.jsx)(l.tlE,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"",page:m,pageNumberText:"Page Number",pageSize:x,pageSizes:[10,20,30,40,50],totalItems:T,onChange:e=>{let{page:t,pageSize:r}=e;w({...a,pageNum:t,pageSize:r})}})]}),(0,s.jsx)(g.Z,{deleteModalIsopen:f,changeModalOpen:S,delConfirm:D}),(0,s.jsx)(M,{createModalIsopen:n,createModaType:i,tableData:o,changeState:t,reloadingData:F})]})},P=t(8808),E=t(6194);let Z=class extends d.Component{render(){let{formValue:e,isSearchClicked:a,createModalIsopen:t,createModaType:r,tableData:d}=this.state;return(0,s.jsxs)("div",{children:[(0,s.jsx)(o(),{children:"Work Order"}),(0,s.jsx)(l.aGc,{children:(0,s.jsx)(l.gN6,{onClick:()=>{},children:"Work Order"})}),(0,s.jsxs)("div",{className:"bx--col-lg-16 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.X6q,{className:"mt-2 text-[28px] font-normal",children:"Work Order"}),(0,s.jsx)(l.X6q,{className:h()("mt-1 text-sm",{[p().textColor]:!0}),children:"Please write your purchase order here"})]}),(0,s.jsx)(l.zxk,{onClick:()=>{this.setState({createModalIsopen:!0})},isExpressive:!0,size:"md",renderIcon:C.mm,children:"Create a Work Order"})]}),(0,s.jsxs)("div",{className:p().searchInputParent,children:[(0,s.jsxs)("div",{className:p().searchInput,children:[(0,s.jsx)(l.oil,{className:p().searchInputChild,labelText:"Work Order",id:"orderId",placeholder:"Work Order",value:e.orderId,onChange:e=>{this.FormValueChange(e)}}),(0,s.jsx)(l.oil,{className:p().searchInputChild,labelText:"Order Name",id:"orderName",placeholder:"Order Name",value:e.orderName,onChange:e=>{this.FormValueChange(e)}})]}),(0,s.jsxs)("div",{className:p().searchInput,children:[(0,s.jsx)(l.oil,{className:p().searchInputChild,labelText:"Type",id:"orderType",placeholder:"Type",value:e.orderType,onChange:e=>{this.FormValueChange(e)}}),(0,s.jsx)(l.oil,{className:p().searchInputChild,labelText:"Creation Time",id:"creationTime",placeholder:"Creation Time",value:e.creationTime,onChange:e=>{this.FormValueChange(e)}})]}),(0,s.jsxs)("div",{className:p().searchBtnParent,children:[(0,s.jsx)(l.zxk,{onClick:()=>{this.setState({isSearchClicked:!0})},style:{backgroundColor:"#393939"},isExpressive:!0,size:"md",renderIcon:P.ol,iconDescription:"Search",children:"Search"}),(0,s.jsx)(l.zxk,{onClick:()=>{this.initFormValue()},style:{backgroundColor:"#C6C6C6"},isExpressive:!0,size:"md",renderIcon:E.x8,iconDescription:"Close",children:"Cancel"})]})]}),(0,s.jsx)("div",{className:"mt-12",children:(0,s.jsx)(D,{changeState:this.changeState,formValue:e,createModalIsopen:t,isSearchClicked:a,createModaType:r,tableData:d})})]})}constructor(...e){super(...e),this.state={formValue:{orderId:"",orderName:"",orderType:"",creationTime:""},isSearchClicked:!1,tableData:{},createModalIsopen:!1,createModaType:"create"},this.componentDidMount=()=>{},this.changeState=e=>{this.setState(e)},this.initFormValue=()=>{this.setState({formValue:{orderId:"",orderName:"",orderType:"",creationTime:""},isSearchClicked:!0})},this.FormValueChange=e=>{let{id:a,value:t}=e.target,r={...this.state.formValue};r[a]=t,this.setState({formValue:r})}}};var A=Z=(0,r.gn)([n.withRouter],Z);let W=class extends d.Component{render(){return(0,s.jsx)("div",{style:{height:"100%"},children:(0,s.jsx)(A,{})})}constructor(...e){super(...e),this.componentDidMount=()=>{}}};(W=(0,r.gn)([n.withRouter],W)).getLayout=function(e){return(0,s.jsx)(c.Z,{children:e})};var z=W},5502:function(e,a,t){"use strict";var r=t(9669),s=t.n(r);s().defaults.timeout=3e5,s().defaults.baseURL="/apps/freezonex-aps",s().interceptors.request.use(e=>e,e=>Promise.reject(e)),s().interceptors.response.use(e=>e,e=>e.response),a.Z=s()},648:function(e){e.exports={layoutCont:"MenuLayout_layoutCont__f51Bj",body:"MenuLayout_body__FfPF7",bodyCont:"MenuLayout_bodyCont__TNhVx"}},9562:function(e){e.exports={workOrderTable:"Table_workOrderTable__rDp1g",editText:"Table_editText__Fq3_E",delText:"Table_delText__WE4pR"}},7926:function(e){e.exports={searchInputParent:"WorkOrder_searchInputParent__uPT9J",searchInput:"WorkOrder_searchInput__j6_8r",searchBtnParent:"WorkOrder_searchBtnParent__NPJ_J"}},8610:function(e){e.exports={ModalFromStyle:"modal_ModalFromStyle__DkTb3"}},5067:function(e){e.exports={tableStyle:"table_tableStyle___lmjm"}}},function(e){e.O(0,[885,458,669,774,888,179],function(){return e(e.s=7449)}),_N_E=e.O()}]);