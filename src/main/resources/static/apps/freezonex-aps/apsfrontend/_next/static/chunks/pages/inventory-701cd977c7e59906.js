(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{3559:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/inventory",function(){return a(7220)}])},3552:function(e,t,a){"use strict";a.d(t,{C8:function(){return r},E$:function(){return o},N2:function(){return n},R5:function(){return p},ZJ:function(){return l},kF:function(){return d},pu:function(){return c},px:function(){return i}});var s=a(5502);let i=e=>(0,s.Z)({url:"/apsbackend/asset/list",method:"post",data:e}),n=e=>(0,s.Z)({url:"/apsbackend/asset/upload",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}),l=e=>(0,s.Z)({url:"/apsbackend/asset/create",method:"post",data:e}),r=e=>(0,s.Z)({url:"/apsbackend/assetType/allList",method:"post",data:e}),o=e=>(0,s.Z)({url:"/apsbackend/department/allList",method:"post",data:e}),d=e=>(0,s.Z)({url:"/apsbackend/department/create",method:"post",data:e}),c=e=>(0,s.Z)({url:"/apsbackend/asset/delete",method:"post",data:e}),p=e=>(0,s.Z)({url:"/apsbackend/asset/update",method:"post",data:e})},1404:function(e,t,a){"use strict";var s=a(5893),i=a(7294),n=a(2605),l=a(8808),r=a(9992),o=a(3570),d=a(8748),c=a(8115),p=a(6817),h=a(2327),u=a(9375),m=a(648),x=a.n(m),v=a(9332),y=a(277);t.Z=e=>{let t=(0,v.useRouter)(),a=(0,v.usePathname)(),{theme:m,setTheme:g}=(0,i.useContext)(y.N),[_,T]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:x().layoutCont,children:[(0,s.jsx)(n.Q2A,{theme:m.headerTheme,children:(0,s.jsxs)(n.h4i,{"aria-label":"SUPCON WMS",children:[(0,s.jsx)(n.zl5,{}),(0,s.jsx)(n.wID,{className:"cursor-pointer","aria-label":_?"Close menu":"Open menu",onClick:()=>{T(!_)},isActive:_,"aria-expanded":_}),(0,s.jsx)(n.nho,{className:"cursor-pointer",prefix:"SUPCON",onClick:()=>{t.push("/dashboard")},children:"APM"}),(0,s.jsxs)(n.sLE,{className:"flex items-center",children:[(0,s.jsx)(n.ZDl,{labelA:"Light",labelB:"Dark",size:"sm",id:"theme-toggle",toggled:"g100"===m.headerTheme,onToggle:e=>{e?g({headerTheme:"g100",contentTheme:"g10",sideNavTheme:"g90"}):g({headerTheme:"white",contentTheme:"white",sideNavTheme:"white"})}}),(0,s.jsx)(n.JMr,{"aria-label":"Settings",children:(0,s.jsx)(l.Zr,{size:20})}),(0,s.jsx)(n.JMr,{"aria-label":"User",children:(0,s.jsx)(r.n5,{size:20})}),(0,s.jsx)(n.JMr,{"aria-label":"Info",tooltipAlignment:"end",children:(0,s.jsx)(o.d,{size:20})})]})]})}),(0,s.jsx)(n.Q2A,{theme:m.sideNavTheme,children:(0,s.jsx)(n.kwZ,{"aria-label":"Side navigation",expanded:_,addFocusListeners:!1,className:"w-10",children:(0,s.jsxs)(n.LDp,{isSideNavExpanded:_,children:[(0,s.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:_,renderIcon:d.A,onClick:()=>{console.log(_,"isSideNavExpanded"),t.push("/dashboard")},isActive:"/dashboard"===a,children:"Dashboard"}),(0,s.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:_,renderIcon:c.l4,onClick:()=>{t.push("/assets")},isActive:"/assets"===a,children:"Assets"}),(0,s.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:_,renderIcon:o.Xx,onClick:()=>{t.push("/inventory")},isActive:"/inventory"===a,children:"Inventory"}),(0,s.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:_,renderIcon:p.P0,onClick:()=>{t.push("/workOrder")},isActive:"/workOrder"===a,children:"Work Order"}),(0,s.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:_,renderIcon:h.$m,onClick:()=>{t.push("/schedule")},isActive:"/schedule"===a,children:"Schedule"}),(0,s.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:_,renderIcon:u.tM,onClick:()=>{t.push("/maintenance")},isActive:"/maintenance"===a,children:"Maintenance"}),(0,s.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:_,renderIcon:c.Jg,onClick:()=>{t.push("/space")},isActive:"/space"===a,children:"Space"})]})})}),(0,s.jsx)(n.Q2A,{theme:m.contentTheme,style:{minHeight:"100vh",minWidth:"630px"},children:(0,s.jsx)(n.VYI,{style:{height:"100%"},children:(0,s.jsx)("div",{className:x().body,children:(0,s.jsx)("div",{className:x().bodyCont,children:e.children})})})})]})}},7220:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eu}});var s=a(5893),i=a(7294),n=a(9008),l=a.n(n),r=a(1404),o=a(7582),d=a(5113),c=a.n(d),p=a(1163),h=a(6660),u=a.n(h);let m=i.createContext();var x=a(4184),v=a.n(x),y=a(1458),g=a.n(y),_=a(2605),T=a(8115),j=a(381),b=a.n(j),N=a(1187),C=a(8610),S=a.n(C),f=e=>{let{addModal:t,modalTitle:a,changeModalOpen:n,addConfirm:l}=e,[r,o]=(0,i.useState)({assetType:"",unit:"",supplierName:"",priceValue:0}),[d,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{},[l]);let p=e=>{let{id:t,value:a}=e.target;o(e=>({...e,[t]:a})),c(!1)},h=async e=>{c(!0),await l({...r})};return(0,s.jsx)("div",{className:S().ModalFromStyle,children:(0,s.jsx)(_.u_l,{open:t,modalHeading:a,primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:()=>{o({assetType:"",unit:"",supplierName:"",priceValue:0}),n(!1)},onRequestSubmit:h,primaryButtonDisabled:d,children:(0,s.jsxs)(_.rjZ,{className:"pl-0 pr-0",children:[(0,s.jsx)(_.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(_.oil,{className:"mb-8",id:"assetType",labelText:"Asset Type Name",placeholder:"Asset Type Name",value:r.assetType,onChange:p})}),(0,s.jsx)(_.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(_.oil,{className:"mb-8",id:"unit",labelText:"Unit",placeholder:"Unit",value:r.unit,onChange:p})}),(0,s.jsx)(_.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(_.oil,{className:"mb-8",id:"supplierName",labelText:"SupplierName",placeholder:"SupplierName",value:r.supplierName,onChange:p})}),(0,s.jsx)(_.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(_.Y2U,{className:"mb-8",id:"priceValue",min:0,value:r.priceValue,label:"Price At Purchase",placeholder:"Price At Purchase",onChange:p})})]})})})},k=a(5280),w=a.n(k),I=a(3552),M=a(5502);let D=e=>(0,M.Z)({url:"/apsbackend/inventory/list",method:"post",data:e}),L=e=>(0,M.Z)({url:"/apsbackend/inventory/queryByAssetTypeList",method:"post",data:e}),E=e=>(0,M.Z)({url:"/apsbackend/assetType/allList",method:"post",data:e}),Z=e=>(0,M.Z)({url:"/apsbackend/inventory/queryChartData",method:"post",data:e}),P=e=>(0,M.Z)({url:"/apsbackend/inventory/assetType/list",method:"post",data:e}),A=e=>(0,M.Z)({url:"/apsbackend/inventory/assetTypeQuantity/list",method:"post",data:e}),Q=e=>(0,M.Z)({url:"/apsbackend/assetType/create",method:"post",data:e}),z=e=>(0,M.Z)({url:"/apsbackend/inventory/create",method:"post",data:e});var H=e=>{let{createModalIsopen:t,changeState:a}=e,n=(0,i.useContext)(m),[l,r]=(0,i.useState)([]),[o,d]=(0,i.useState)(!1),[c,p]=(0,i.useState)(!1),[h,u]=(0,i.useState)({assetTypeId:"",expectedDate:"",expectedQuantity:""});(0,i.useEffect)(()=>{x()},[t]);let x=async()=>{var e;let t=await (0,I.C8)();if((null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.code)==200){let{data:e}=null==t?void 0:t.data;r(e)}},y=e=>{let{id:t,value:a}=e.target;u(e=>({...e,[t]:a}))},g=()=>{u({assetTypeId:"",expectedDate:"",expectedQuantity:""}),a({createModalIsopen:!1}),p(!1)},j=async e=>{var t;console.log(e);let s=await Q(e);(null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.code)==200&&(d(!1),a({createModalIsopen:!0}))},C=async()=>{var e;if((null===(e=(await z(h)).data)||void 0===e?void 0:e.code)==200){g();let{controller:{Table:e,RightList:t,Chart:a}}=n;e.getList({pageNum:1,pageSize:10}),e.setState({unfoldMap:{}}),t.getList(),a.allList()}else N.ZP.error("Creation failure");p(!1)};return(0,s.jsxs)("div",{className:v()([S().ModalFromStyle,w().createModal]),children:[(0,s.jsx)(_.u_l,{open:t,modalHeading:"Asset Type",primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:g,onRequestSubmit:e=>{p(!0),C()},primaryButtonDisabled:c,children:(0,s.jsxs)(_.rjZ,{className:"pl-0 pr-0",children:[(0,s.jsx)(_.sgG,{sm:4,md:4,lg:8,children:(0,s.jsxs)(_.PhF,{className:"mb-8",id:"assetTypeId",labelText:(0,s.jsxs)("div",{style:{display:"flex"},onClick:()=>{a({createModalIsopen:!1}),d(!0)},children:[(0,s.jsx)("span",{className:"mr-1",children:"Asset Type Name"}),(0,s.jsx)(T.ET,{})]}),value:h.assetTypeId,onChange:y,children:[(0,s.jsx)(_.QlF,{value:"",text:"Choose an option"}),l.map((e,t)=>(0,s.jsx)(_.QlF,{value:e.id,text:e.assetType},e.id))]})}),(0,s.jsx)(_.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(_.Mtg,{className:"mb-8",datePickerType:"single",value:b()(h.expectedDate,"YYYY-MM-DD").valueOf(),onChange:e=>{u({...h,expectedDate:b()(e[0]).format("YYYY-MM-DD")})},children:(0,s.jsx)(_.aj6,{id:"expectedDate",labelText:"Expected Date",placeholder:"mm/dd/yyyy"})})}),(0,s.jsx)(_.sgG,{sm:4,md:4,lg:8,children:(0,s.jsx)(_.oil,{id:"expectedQuantity",labelText:"Ecpected Quantity",placeholder:"Ecpected Quantity",value:h.expectedQuantity,onChange:y})})]})}),(0,s.jsx)(f,{addModal:o,modalTitle:"Asset Type Name",changeModalOpen:e=>{a({createModalIsopen:!0}),d(!1)},addConfirm:async e=>{await j(e)}})]})};class R extends i.Component{render(){let{createModalIsopen:e}=this.state;return(0,s.jsxs)("div",{children:[(0,s.jsx)(l(),{children:"Inventory"}),(0,s.jsx)(_.aGc,{children:(0,s.jsx)(_.gN6,{onClick:()=>{router.push("/inventory")},children:"Inventory"})}),(0,s.jsxs)("div",{className:"bx--col-lg-16 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(_.X6q,{className:"mt-2 text-[28px] font-normal",children:"Inventory"}),(0,s.jsx)(_.X6q,{className:v()("mt-1 text-sm",{[g().textColor]:!0}),children:"Here we can do predictions for you."})]}),(0,s.jsx)(_.zxk,{onClick:()=>{this.setState({createModalIsopen:!0})},isExpressive:!0,size:"md",renderIcon:T.mm,children:"Create an Inventory"})]}),(0,s.jsx)(H,{createModalIsopen:e,changeState:this.changeState})]})}constructor(...e){super(...e),this.componentDidMount=()=>{var e,t;null===(e=(t=this.props).init)||void 0===e||e.call(t,this)},this.state={createModalIsopen:!1},this.changeState=e=>{this.setState(e)}}}var F=a(4670),q=a.n(F),B=a(9938);a(3415);let U=class extends i.Component{render(){let{selectList:e,value:t}=this.state;return(0,s.jsxs)("div",{className:q().container,children:[(0,s.jsxs)("div",{className:q().header,children:[(0,s.jsx)("div",{className:q().title,children:"Trend chart"}),(0,s.jsx)("div",{className:q().options,children:(0,s.jsx)(_.PhF,{labelText:"",value:t,required:!0,size:"sm",onChange:e=>{this.setState({value:e.target.value}),this.initChart({assetTypeId:e.target.value})},children:e.map((e,t)=>(0,s.jsx)(_.QlF,{value:e.id,text:e.assetType}))})})]}),(0,s.jsx)("div",{className:q().chart,children:(0,s.jsx)("div",{style:{position:"relative",top:"0px"},children:(0,s.jsx)(B.Ui,{data:this.state.data,options:this.state.options})})})]})}constructor(...e){var t;super(...e),t=this,this.state={selectList:[],value:"",data:[],data2:[{group:"Health",key:"2018-12-29T16:00:00.000Z",value:312},{group:"Health",key:"2019-01-05T16:00:00.000Z",value:232},{group:"Health",key:"2019-01-07T16:00:00.000Z",value:432},{group:"Health",key:"2019-01-14T16:00:00.000Z",value:712},{group:"Health",key:"2019-01-18T16:00:00.000Z",value:834},{group:"Health",key:"2019-01-31T16:00:00.000Z",value:800},{group:"Health",key:"2019-02-04T16:00:00.000Z",value:612},{group:"Health",key:"2019-02-12T16:00:00.000Z",value:442},{group:"Temperature",key:"2018-12-31T16:00:00.000Z",temp:-20},{group:"Temperature",key:"2019-01-04T16:00:00.000Z",temp:-12},{group:"Temperature",key:"2019-01-07T16:00:00.000Z",temp:3},{group:"Temperature",key:"2019-01-12T16:00:00.000Z",temp:18},{group:"Temperature",key:"2019-01-18T16:00:00.000Z",temp:24},{group:"Temperature",key:"2019-02-01T16:00:00.000Z",temp:34},{group:"Temperature",key:"2019-02-06T16:00:00.000Z",temp:37},{group:"Temperature",key:"2019-02-08T16:00:00.000Z",temp:30}],options:{color:{line:"blue",area:"green"},points:{enabled:!1},color:{scale:{ExpectedQuantity:"#D0E2FF",Quantity:"#0F62FE"}},axes:{left:{mapsTo:"value"},bottom:{scaleType:"labels",mapsTo:"key"}},comboChartTypes:[{type:"area",options:{},correspondingDatasets:["ExpectedQuantity"]},{type:"line",options:{points:{enabled:!0}},correspondingDatasets:["Quantity"]}],curve:"curveNatural",timeScale:{addSpaceOnEdges:0},height:"284px",toolbar:{enabled:!1}}},this.componentDidMount=()=>{var e,t;null===(e=(t=this.props).init)||void 0===e||e.call(t,this),this.allList()},this.allList=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a,s={};s={...s,...e};var i=await E(s);(null==i?void 0:null===(a=i.data)||void 0===a?void 0:a.code)==200&&t.setState({selectList:i.data.data,value:i.data.data[0].id||""},()=>{t.initChart()})},this.initChart=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a,s={assetTypeId:t.state.value};s={...s,...e};var i=await Z(s);if((null==i?void 0:null===(a=i.data)||void 0===a?void 0:a.code)==200){console.log(i.data.data);var n=i.data.data,l=[];n.dataList.forEach((e,t)=>{l.push({group:"ExpectedQuantity",key:b()(e.date).format("MM-DD"),value:e.expectedQuantity||0})}),n.dataList.forEach((e,t)=>{l.push({group:"Quantity",key:b()(e.date).format("MM-DD"),value:e.quantity||0})}),t.setState({data:l})}}}};var J=U=(0,o.gn)([e=>t=>(0,s.jsx)(m.Consumer,{children:a=>(0,s.jsx)(e,{...t,value:a})})],U),O=a(3104),X=a.n(O),Y=a(5067),G=a.n(Y),V=a(9485),W=a.n(V),$=e=>{let{modalTableIsopen:t,setModalTableIsopen:a}=e,n=[{key:"assetType",header:"Asset Name"},{key:"quantity",header:"Quality"}],[l,r]=(0,i.useState)([]),[o,d]=(0,i.useState)(1),[c,p]=(0,i.useState)(10),[h,u]=(0,i.useState)(5);var m=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,a={pageNum:o,pageSize:c};a={...a,...e};var s=await A(a);if((null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.code)==200){var i=s.data.data;r(i.list),u(i.total)}};return(0,i.useEffect)(()=>{m()},[]),(0,s.jsx)("div",{className:"".concat(S().ModalFromStyle," ").concat(W().viewTablePage),children:(0,s.jsx)(_.u_l,{open:t,modalHeading:"Safety Level Stock Spare Parts",passiveModal:!0,onRequestClose:()=>{a(!1)},children:(0,s.jsxs)("div",{className:G().tableStyle,children:[(0,s.jsx)(_.xJi,{children:(0,s.jsxs)(_.iA_,{children:[(0,s.jsx)(_.ssF,{children:(0,s.jsx)(_.SCH,{head:!0,children:n.map((e,t)=>(0,s.jsx)(_.xDH,{head:!0,children:e.header},e.key))})}),(0,s.jsx)(_.RMI,{children:l.map((e,t)=>(0,s.jsx)(_.SCH,{children:n.map(t=>(0,s.jsx)(_.pj1,{children:e[t.key]},t.key))},e.id))})]})}),(0,s.jsx)(_.tlE,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"",page:o,pageNumberText:"Page Number",pageSize:c,pageSizes:[10,20,30,40,50],totalItems:h,onChange:e=>{let{page:t,pageSize:a}=e;d(t),p(a),m({pageNum:t,pageSize:a})}})]})})})},K=a(601);class ee extends i.Component{render(){let{modalTableIsopen:e,list:t}=this.state;return(0,s.jsxs)("div",{className:X().container,children:[(0,s.jsxs)("div",{className:X().header,children:[(0,s.jsx)("div",{className:X().title,children:"Safety Level Stock Spare Parts"}),(0,s.jsx)("div",{className:X().options,onClick:()=>{this.setState({modalTableIsopen:!0})},children:"View All"})]}),(0,s.jsx)("div",{className:X().chart,children:(0,s.jsx)("div",{className:X().list,children:(0,s.jsx)(_.UhJ,{label:"",kind:"on-page",children:t.map((e,t)=>(0,s.jsx)(_.C$Z,{renderIcon:K.xs,children:e.assetType},t))})})}),(0,s.jsx)($,{modalTableIsopen:e,setModalTableIsopen:this.setModalTableIsopen})]})}constructor(...e){var t;super(...e),t=this,this.state={modalTableIsopen:!1,list:[]},this.componentDidMount=()=>{var e,t;null===(e=(t=this.props).init)||void 0===e||e.call(t,this),this.getList()},this.setModalTableIsopen=()=>{this.setState({modalTableIsopen:!1})},this.getList=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var a,s={pageNum:1,pageSize:8};s={...s,...e};var i=await P(s);if((null==i?void 0:null===(a=i.data)||void 0===a?void 0:a.code)==200){var n=i.data.data;console.log(n,"pppp"),t.setState({list:n.list})}}}}var et=a(4373),ea=a.n(et);a(6486);var es=a(380);function ei(e,t){return!(0,es.is)((0,es.d0)(this.props),(0,es.d0)(e))||!(0,es.is)((0,es.d0)(this.state),(0,es.d0)(t))}var en=a(6993),el=a.n(en);class er extends i.Component{componentDidMount(){var e,t;null===(e=(t=this.props).init)||void 0===e||e.call(t,this)}render(){let{isSHow:e,tabList:t,total:a,pageSize:i,pageNum:n}=this.state;var l=41.2*(t.length+1);return e&&(l+=48),(0,s.jsxs)("div",{className:v()([el().showComp]),style:{height:e?"".concat(l,"px"):0,marginBottom:e?"10px":0},children:[(0,s.jsx)("div",{style:{borderRight:"1px solid #ccc"}}),[{dataIndex:"expectedDate",title:"Expected  Date",width:"15%"},{dataIndex:"expectedQuantity",title:"Expected  Quantity",width:"15%",style:{paddingLeft:"40px"}},{dataIndex:"ai",title:"",width:"5%"}].map((e,a)=>{let i=e.style||{};return(0,s.jsxs)("div",{className:el().tableCell,style:{width:e.width,minWidth:e.width,maxWidth:e.width},children:[(0,s.jsx)("div",{className:el().header,style:{...i,borderRight:"expectedQuantity"===e.dataIndex?"none":"1px solid #ccc;"},children:e.title}),t.map((t,a)=>"expectedQuantity"===e.dataIndex?(0,s.jsx)("div",{className:v()([el().item,{[el().s0]:0==t.colorType,[el().s1]:1==t.colorType,[el().s2]:2==t.colorType}]),style:{...i,borderRight:"none"},children:t[e.dataIndex]}):"ai"===e.dataIndex?(0,s.jsx)("div",{className:v()([el().item,{[el().s0]:0==t.colorType,[el().s1]:1==t.colorType,[el().s2]:2==t.colorType}]),style:i,children:1==t[e.dataIndex]&&(0,s.jsx)(T.Ai,{size:20})}):(0,s.jsx)("div",{className:v()([el().item,{[el().s0]:0==t.colorType,[el().s1]:1==t.colorType,[el().s2]:2==t.colorType}]),style:i,children:t[e.dataIndex]}))]})}),(0,s.jsx)("div",{className:el().pagination,style:{width:"35%",borderRight:"1px solid #ccc"},children:(0,s.jsx)(_.tlE,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"",page:n,pageNumberText:"Page Number",pageSize:i,pageSizes:[10,20,30,40,50],totalItems:a,onChange:e=>{let{page:t,pageSize:a}=e;this.setState({pageSize:a,pageNum:t},()=>{this.getList({pageNum:t,pageSize:a,defaultPage:!1})})}})})]})}constructor(...e){var t;super(...e),t=this,this.state={isSHow:!1,tabList:[],total:0,pageSize:10,pageNum:1},this.open=()=>{this.setState({pageNum:1,pageSize:10},()=>{this.getList({pageNum:1,pageSize:10,defaultPage:!0})})},this.close=()=>{this.setState({isSHow:!1})},this.getList=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pageNum:a,pageSize:s}=t.state;var i,n={pageNum:a,pageSize:s,assetTypeId:t.props.data.assetTypeId,currentId:t.props.data.id};n={...n,...e};var l=await L(n);if((null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.code)==200){var r=l.data.data;t.setState({tabList:r.list,total:parseInt(r.total),pageSize:parseInt(r.pageSize),pageNum:parseInt(r.pageNum),isSHow:!0})}},this.shouldComponentUpdate=(e,t)=>ei.call(this,e,t)}}class eo extends i.Component{componentDidUpdate(e){e.showChild!==this.props.showChild&&(this.props.showChild?this.open():this.close())}render(){return(0,s.jsx)("div",{children:(0,s.jsx)(er,{init:e=>this.contThis=e,data:this.props.data})})}constructor(...e){super(...e),this.contThis=null,this.state={isSHow:!1},this.open=()=>{var e;console.log("开"),null===(e=this.contThis)||void 0===e||e.open()},this.close=()=>{var e;console.log("关"),null===(e=this.contThis)||void 0===e||e.close()},this.shouldComponentUpdate=(e,t)=>ei.call(this,e,t)}}class ed extends i.Component{render(){let{unfoldMap:e}=this.state,{tabList:t,total:a,pageSize:i,pageNum:n}=this.state;var l=[{key:"1",header:"Asset Type",width:"12%"},{key:"2",header:"Quantity",width:"8%"},{key:"3",header:"Unit",width:"7%"},{key:"4",header:"Usage Rate",width:"11%"},{key:"5",header:"Supplier Name",width:"12%"},{key:"6",header:"Expected Quantity ",width:"15%"},{key:"7",header:"Creation Time",width:"15%"},{key:"options",header:"Expected  Date",width:"20%"}];return(0,s.jsxs)("div",{className:ea().container,children:[(0,s.jsxs)("div",{className:ea().table,children:[(0,s.jsx)("div",{className:ea().tableHeader,children:l.map((e,t)=>{var a=e.width||"auto";return(0,s.jsx)("div",{className:ea().tableCell,style:{width:a,minWidth:a,maxWidth:a},children:e.header},e.key)})}),(0,s.jsx)("div",{className:ea().tableBody,children:t.map((e,t)=>this.renderTableData(e,t)).map((t,a)=>{var i=e[a];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:ea().tableRow,children:l.map(e=>{var a=e.width||"auto";return(0,s.jsx)("div",{className:v()([ea().tableCell,{[ea().showChild]:i}]),style:{width:a,minWidth:a,maxWidth:a,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:t[e.key],children:t[e.key]},e.key)})},t.id),(0,s.jsx)(eo,{showChild:i,data:t.data})]})})})]}),(0,s.jsx)("div",{className:ea().pagination,children:(0,s.jsx)(_.tlE,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"",page:n,pageNumberText:"Page Number",pageSize:i,pageSizes:[10,20,30,40,50],totalItems:a,onChange:e=>{let{page:t,pageSize:a}=e;this.setState({pageSize:a,pageNum:t,unfoldMap:{}},()=>{this.getList({pageNum:t,pageSize:a})})}})})]})}constructor(...e){var t;super(...e),t=this,this.state={tabList:[],total:0,pageSize:10,pageNum:1,unfoldMap:{}},this.componentDidMount=()=>{var e,t;null===(e=(t=this.props).init)||void 0===e||e.call(t,this),this.getList()},this.getList=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pageNum:a,pageSize:s}=t.state;var i,n={pageNum:a,pageSize:s};n={...n,...e};var l=await D(n);if((null==l?void 0:null===(i=l.data)||void 0===i?void 0:i.code)==200){var r=l.data.data;t.setState({tabList:r.list,total:parseInt(r.total)})}},this.open=(e,t)=>{let{unfoldMap:a}=this.state;var s={...a};s[t]?delete s[t]:s[t]=1,this.setState({unfoldMap:s})},this.renderTableData=(e,t)=>{let{unfoldMap:a}=this.state;return{key:t,1:e.assetType,2:e.quantity,3:e.unit,4:e.usageRate,5:e.supplierName,6:e.expectedQuantity,7:e.creationTime,options:(0,s.jsxs)("div",{className:ea().options,children:[(0,s.jsx)("span",{children:e.expectedDate}),(0,s.jsx)("a",{className:v()({[ea().open]:a[t]}),onClick:()=>{this.open(e,t)},children:"View All"})]}),data:e}},this.shouldComponentUpdate=(e,t)=>ei.call(this,e,t)}}let ec=class extends i.Component{componentDidMount(){this.init()}render(){let{setController:e}=this;var t={...this.state,controller:this.controller,changeState:this.changeState,setController:this.setController};return(0,s.jsxs)(m.Provider,{value:t,children:[(0,s.jsx)(R,{init:t=>e("Header",t)}),(0,s.jsxs)("div",{className:c().chart,children:[(0,s.jsx)("div",{className:c().left,children:(0,s.jsx)(J,{init:t=>e("Chart",t)})}),(0,s.jsx)("div",{className:c().right,children:(0,s.jsx)(ee,{init:t=>e("RightList",t)})})]}),(0,s.jsxs)("div",{className:"mt-12",children:[(0,s.jsx)("div",{className:c().title,children:"All Assets"}),(0,s.jsx)(ed,{init:t=>e("Table",t)})]})]})}constructor(...e){super(...e),this.controller={},this.state={event:new(u())},this.init=async()=>{let{event:e}=this.state;e.on("save",async function(e){}),e.on("add",async function(e){}),e.on("del",async function(e){})},this.changeState=e=>{this.setState(e)},this.setController=(e,t)=>{this.controller[e]=t}}};var ep=ec=(0,o.gn)([p.withRouter],ec);class eh extends i.Component{render(){return(0,s.jsx)("div",{style:{height:"100%"},children:(0,s.jsx)(ep,{})})}constructor(...e){super(...e),this.componentDidMount=()=>{}}}eh.getLayout=function(e){return(0,s.jsx)(r.Z,{children:e})};var eu=eh},5502:function(e,t,a){"use strict";var s=a(9669),i=a.n(s);i().defaults.timeout=3e5,i().defaults.baseURL="/apps/freezonex-aps",i().interceptors.request.use(e=>e,e=>Promise.reject(e)),i().interceptors.response.use(e=>e,e=>e.response),t.Z=i()},648:function(e){e.exports={layoutCont:"MenuLayout_layoutCont__f51Bj",body:"MenuLayout_body__FfPF7",bodyCont:"MenuLayout_bodyCont__TNhVx"}},4670:function(e){e.exports={container:"Chart_container__gXhqg",header:"Chart_header__k1rMy",title:"Chart_title__4c1q6",chart:"Chart_chart__JSyL1"}},1458:function(e){e.exports={textColor:"Header_textColor__Xz_RJ"}},5280:function(e){e.exports={createModal:"CreateModal_createModal__U2_uw",cds_file_label:"CreateModal_cds_file_label__1vHPP",uploadDocument:"CreateModal_uploadDocument__XQPx_",cds_label_description:"CreateModal_cds_label_description__cEIqt",fileType:"CreateModal_fileType__RYtNA"}},9485:function(e){e.exports={viewTablePage:"ModalTable_viewTablePage__QjXDi"}},3104:function(e){e.exports={container:"RightList_container__NvHgu",header:"RightList_header__BKHYa",title:"RightList_title__tODsm",options:"RightList_options__z62Dg",chart:"RightList_chart__Ve1Lc",list:"RightList_list__qpQ3j"}},6993:function(e){e.exports={showComp:"Cont_showComp__rklCG",tableCell:"Cont_tableCell__I4FWh",header:"Cont_header___rJY1",cont:"Cont_cont__Q9GzL",item:"Cont_item__SBHC9",s0:"Cont_s0__PiCgQ",s1:"Cont_s1__sTmaB",s2:"Cont_s2__jn_fw",pagination:"Cont_pagination__mnJjQ"}},4373:function(e){e.exports={options:"Table_options__wXq8X",open:"Table_open__50bUu",container:"Table_container__66vTG",table:"Table_table__J_6d8",tableHeader:"Table_tableHeader__E07TA",tableBody:"Table_tableBody__eCQ3T",tableRow:"Table_tableRow__HxEhm",tableCell:"Table_tableCell__wwAM2",showComp:"Table_showComp___BEk1",showChild:"Table_showChild__RVV2X",pagination:"Table_pagination__2cTbP"}},5113:function(e){e.exports={title:"Inventory_title__tXhk6",chart:"Inventory_chart__J5ED5",left:"Inventory_left___3eS0",right:"Inventory_right__W97G4"}},8610:function(e){e.exports={ModalFromStyle:"modal_ModalFromStyle__DkTb3"}},5067:function(e){e.exports={tableStyle:"table_tableStyle___lmjm"}}},function(e){e.O(0,[885,442,586,662,596,458,669,899,774,888,179],function(){return e(e.s=3559)}),_N_E=e.O()}]);