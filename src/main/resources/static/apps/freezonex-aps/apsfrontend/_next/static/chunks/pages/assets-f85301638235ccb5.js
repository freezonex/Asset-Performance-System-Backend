(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{1637:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/assets",function(){return s(6031)}])},3552:function(e,t,s){"use strict";s.d(t,{C8:function(){return r},E$:function(){return d},N2:function(){return n},R5:function(){return h},ZJ:function(){return i},kF:function(){return o},pu:function(){return c},px:function(){return l}});var a=s(5502);let l=e=>(0,a.Z)({url:"/apsbackend/asset/list",method:"post",data:e}),n=e=>(0,a.Z)({url:"/apsbackend/asset/upload",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}),i=e=>(0,a.Z)({url:"/apsbackend/asset/create",method:"post",data:e}),r=e=>(0,a.Z)({url:"/apsbackend/assetType/allList",method:"post",data:e}),d=e=>(0,a.Z)({url:"/apsbackend/department/allList",method:"post",data:e}),o=e=>(0,a.Z)({url:"/apsbackend/department/create",method:"post",data:e}),c=e=>(0,a.Z)({url:"/apsbackend/asset/delete",method:"post",data:e}),h=e=>(0,a.Z)({url:"/apsbackend/asset/update",method:"post",data:e})},1404:function(e,t,s){"use strict";var a=s(5893),l=s(7294),n=s(2605),i=s(8808),r=s(9992),d=s(3570),o=s(8748),c=s(8115),h=s(6817),u=s(2327),m=s(9375),p=s(648),x=s.n(p),j=s(9332),v=s(277);t.Z=e=>{let t=(0,j.useRouter)(),s=(0,j.usePathname)(),{theme:p,setTheme:g}=(0,l.useContext)(v.N),[b,y]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:x().layoutCont,children:[(0,a.jsx)(n.Q2A,{theme:p.headerTheme,children:(0,a.jsxs)(n.h4i,{"aria-label":"SUPCON WMS",children:[(0,a.jsx)(n.zl5,{}),(0,a.jsx)(n.wID,{className:"cursor-pointer","aria-label":b?"Close menu":"Open menu",onClick:()=>{y(!b)},isActive:b,"aria-expanded":b}),(0,a.jsx)(n.nho,{className:"cursor-pointer",prefix:"SUPCON",onClick:()=>{t.push("/dashboard")},children:"APM"}),(0,a.jsxs)(n.sLE,{className:"flex items-center",children:[(0,a.jsx)(n.ZDl,{labelA:"Light",labelB:"Dark",size:"sm",id:"theme-toggle",toggled:"g100"===p.headerTheme,onToggle:e=>{e?g({headerTheme:"g100",contentTheme:"g10",sideNavTheme:"g90"}):g({headerTheme:"white",contentTheme:"white",sideNavTheme:"white"})}}),(0,a.jsx)(n.JMr,{"aria-label":"Settings",children:(0,a.jsx)(i.Zr,{size:20})}),(0,a.jsx)(n.JMr,{"aria-label":"User",children:(0,a.jsx)(r.n5,{size:20})}),(0,a.jsx)(n.JMr,{"aria-label":"Info",tooltipAlignment:"end",children:(0,a.jsx)(d.d,{size:20})})]})]})}),(0,a.jsx)(n.Q2A,{theme:p.sideNavTheme,children:(0,a.jsx)(n.kwZ,{"aria-label":"Side navigation",expanded:b,addFocusListeners:!1,className:"w-10",children:(0,a.jsxs)(n.LDp,{isSideNavExpanded:b,children:[(0,a.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:b,renderIcon:o.A,onClick:()=>{console.log(b,"isSideNavExpanded"),t.push("/dashboard")},isActive:"/dashboard"===s,children:"Dashboard"}),(0,a.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:b,renderIcon:c.l4,onClick:()=>{t.push("/assets")},isActive:"/assets"===s,children:"Assets"}),(0,a.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:b,renderIcon:d.Xx,onClick:()=>{t.push("/inventory")},isActive:"/inventory"===s,children:"Inventory"}),(0,a.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:b,renderIcon:h.P0,onClick:()=>{t.push("/workOrder")},isActive:"/workOrder"===s,children:"Work Order"}),(0,a.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:b,renderIcon:u.$m,onClick:()=>{t.push("/schedule")},isActive:"/schedule"===s,children:"Schedule"}),(0,a.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:b,renderIcon:m.tM,onClick:()=>{t.push("/maintenance")},isActive:"/maintenance"===s,children:"Maintenance"}),(0,a.jsx)(n.yTF,{className:"cursor-pointer",isSideNavExpanded:b,renderIcon:c.Jg,onClick:()=>{t.push("/space")},isActive:"/space"===s,children:"Space"})]})})}),(0,a.jsx)(n.Q2A,{theme:p.contentTheme,style:{minHeight:"100vh",minWidth:"630px"},children:(0,a.jsx)(n.VYI,{style:{height:"100%"},children:(0,a.jsx)("div",{className:x().body,children:(0,a.jsx)("div",{className:x().bodyCont,children:e.children})})})})]})}},8082:function(e,t,s){"use strict";var a=s(5893),l=s(7294),n=s(2605),i=s(8610),r=s.n(i);t.Z=e=>{let{addModal:t,modalTitle:s,changeModalOpen:i,addConfirm:d}=e,[o,c]=(0,l.useState)({text:""}),[h,u]=(0,l.useState)(!0);return(0,a.jsx)("div",{className:r().ModalFromStyle,children:(0,a.jsx)(n.u_l,{open:t,modalHeading:s,primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:()=>{c({text:""}),i(!1)},onRequestSubmit:e=>{u(!0),d({...o})},primaryButtonDisabled:h,children:(0,a.jsx)(n.oil,{id:"addText",labelText:"",placeholder:s,value:o.text,onChange:e=>{c({text:e.target.value}),u(!1)}})})})}},892:function(e,t,s){"use strict";var a=s(5893);s(7294);var l=s(2605),n=s(8610),i=s.n(n);t.Z=e=>{let{deleteModalIsopen:t,changeModalOpen:s,delConfirm:n}=e;return(0,a.jsx)("div",{className:i().ModalFromStyle,children:(0,a.jsx)(l.u_l,{open:t,modalHeading:"Deletion confirmation",primaryButtonText:"Detele",secondaryButtonText:"Cancel",onRequestClose:()=>{s(!1)},onRequestSubmit:e=>{n()},children:(0,a.jsx)("div",{className:"pl-5 pt-5",children:"Are you sure you want to delete?"})})})}},6031:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return W}});var a=s(7582),l=s(5893),n=s(7294),i=s(1163),r=s(9008),d=s.n(r),o=s(1404),c=s(4184),h=s.n(c),u=s(9235),m=s.n(u),p=s(2605),x=s(2327),j=s(8610),v=s.n(j),g=s(9523),b=s.n(g),y=e=>{let{modalTableIsopen:t,setModalTableIsopen:s,tableRowData:a}=e,n=async(e,t)=>{e.preventDefault();let s="";fetch("".concat("/apps/freezonex-aps","/apsbackend/asset/download?id=").concat(t)).then(e=>{var t;let a=e.headers.get("Content-Disposition").split(";");return s=window.decodeURI(null===(t=a[1])||void 0===t?void 0:t.split("=")[1]),e.blob()}).then(e=>{let t=window.URL.createObjectURL(e),a=document.createElement("a");a.download=s,a.href=t,a.click(),window.URL.revokeObjectURL(t),a=null})};return(0,l.jsx)("div",{className:h()([v().ModalFromStyle,b().moreModal]),children:(0,l.jsx)(p.u_l,{open:t,modalHeading:"More",passiveModal:!0,onRequestClose:()=>{s(!1)},children:(0,l.jsx)("div",{className:b().tableParent,children:[{key:"department",header:"Department"},{key:"location",header:"Location"},{key:"value",header:"Value"},{key:"responsiblePerson",header:"Responsible Person"},{key:"arrachments",header:"Arrachments"}].map((e,t)=>"arrachments"==e.key?(0,l.jsxs)("div",{className:b().parent,children:[(0,l.jsx)("div",{className:b().Left,children:"arrachments"}),(0,l.jsx)("div",{className:b().Right,children:(0,l.jsx)(p.rUS,{renderIcon:()=>(0,l.jsx)(x.rT,{"aria-label":"Arrow Right"}),style:{cursor:"pointer"},onClick:e=>n(e,a.id),children:"Download"})})]}):(0,l.jsxs)("div",{className:b().parent,children:[(0,l.jsx)("div",{className:b().Left,children:e.header}),(0,l.jsx)("div",{className:b().Right,children:a[e.key]})]}))})})})},N=s(9477),f=s(7836),_=s(9365),T=s(8250),C=s(366),k=s.n(C),S=n.memo(function(e){let{glbUrl:t,...s}=e,a=(0,n.useRef)(null),i=(0,n.useRef)(!1),r=(0,n.useRef)(null),d=(0,n.useRef)(new N.SUY),[o,c]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e,s,l;let n=a.current;return!function(){let a=n.clientWidth,r=n.clientHeight;(e=new N.cPb(50,a/r,1,2e3)).position.set(450,250,350),s=new N.xsS;let d=new N.Mig(16777215,.6);s.add(d);let o=new N.Ox3(16777215,1.5);o.position.set(0,100,200),o.target.position.set(0,0,0),s.add(o),s.add(o.target),h(t,s).then(e=>{console.log("3D 模型加载完成"),c(!0)}).catch(e=>{console.error("加载模型出错:",e)}),(l=new N.CP7({antialias:!0,alpha:!0})).gammaOutput=!0,l.gammaFactor=2.2,l.physicallyCorrectLights=!0,l.setPixelRatio(window.devicePixelRatio),l.setSize(a,r),l.shadowMap.enabled=!0,l.toneMapping=N.LY2,l.toneMappingExposure=2;let u=new _.z(e,l.domElement);u.update(),u.addEventListener("start",()=>{i.current=!0}),u.addEventListener("end",()=>{i.current=!1}),l.domElement.style.cursor="grab",l.domElement.addEventListener("mousedown",()=>{l.domElement.style.cursor="grabbing"}),l.domElement.addEventListener("mouseup",()=>{l.domElement.style.cursor="grab"}),n.appendChild(l.domElement)}(),!function t(){let a=d.current.getDelta();i.current||(s.rotation.y+=.2*a),T.ZP.update(),l.render(s,e),requestAnimationFrame(t)}(),()=>{i.current=!1,r.current=null}},[]);let h=(e,t)=>new Promise((s,a)=>{let l=new f.E;l.load(e,e=>{let a=e.scene;if(a.position.y-=10,e.animations.length>0){r.current=new N.Xcj(a);let t=r.current.clipAction(e.animations[0]);t.play()}a.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)}),u(a),t.add(a),s(a)},void 0,e=>{console.error("An error occurred while loading the model:",e),a(e)})}),u=e=>{let t=window.innerWidth<768;t?e.scale.set(100,120,100):e.scale.set(170,120,170)};return(0,l.jsxs)("div",{className:k().threePage,children:[(0,l.jsx)("div",{ref:a,style:{width:"100%",height:"300px"}}),!o&&(0,l.jsx)("div",{className:k().loadingDiv,children:(0,l.jsx)(p.gbz,{className:"some-class",withOverlay:!1})})]})}),w=s(759),D=s.n(w),M=function(e){let{tableList:t,isOpen:s}=e,a=[{key:"department",header:"Department"},{key:"location",header:"Location"},{key:"value",header:"Value"},{key:"responsiblePerson",header:"Responsible Person"},{key:"attachments",header:"Attachments"}],n=async(e,t)=>{e.preventDefault();let s="",a="/apps/freezonex-aps";a||(a=window.location.origin),fetch("".concat(a,"/apsbackend/asset/download?id=").concat(t)).then(e=>{var t;let a=e.headers.get("Content-Disposition").split(";");return s=window.decodeURI(null===(t=a[1])||void 0===t?void 0:t.split("=")[1]),e.blob()}).then(e=>{let t=window.URL.createObjectURL(e),a=document.createElement("a");a.download=s,a.href=t,a.click(),window.URL.revokeObjectURL(t),a=null})};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:h()(D().assetsChildrenTable),style:{height:s?s&&t[0].glbUrl?500:97:0,marginBottom:s?"10px":0,boxShadow:s?"0px 4px 4px 0px rgba(0, 0, 0, 0.2509803922)":"none"},children:(0,l.jsxs)(p.xJi,{children:[(0,l.jsxs)(p.iA_,{children:[(0,l.jsx)(p.ssF,{children:(0,l.jsx)(p.SCH,{children:a.map((e,t)=>(0,l.jsx)(p.xDH,{children:e.header},"".concat(e.key,"_head_child")))})}),(0,l.jsx)(p.RMI,{children:t.map((e,t)=>(0,l.jsx)(p.SCH,{children:a.map(t=>"attachments"===t.key?(0,l.jsx)(p.pj1,{children:(0,l.jsx)(p.rUS,{renderIcon:()=>(0,l.jsx)(x.rT,{"aria-label":"Arrow Right"}),style:{cursor:"pointer"},onClick:t=>n(t,e.id),children:"Download"})},t.key):(0,l.jsx)(p.pj1,{children:e[t.key]},t.key))},e.id))})]}),t[0].glbUrl&&(0,l.jsxs)(p.iA_,{children:[(0,l.jsx)(p.ssF,{children:(0,l.jsx)(p.SCH,{children:(0,l.jsx)(p.xDH,{children:"3D"})})}),(0,l.jsx)(p.RMI,{children:(0,l.jsx)(p.SCH,{children:(0,l.jsx)(p.pj1,{colSpan:"9",children:(0,l.jsx)("div",{className:D().table3D,children:s&&(0,l.jsx)(S,{glbUrl:t[0].glbUrl})})})})})]})]})})})},I=s(5067),F=s.n(I),P=s(6479),R=s.n(P),A=s(892),E=s(6813),L=s.n(E),U=s(8115),z=s(1187),Z=s(9552),O=s(8082),V=s(3552),H=e=>{let{createModalIsopen:t,changeState:s,type:a,tableRowData:i,reloadingData:r}=e,[d,o]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[m,x]=(0,n.useState)(!1),[j,g]=(0,n.useState)({assetName:"",assetId:"",sn:"",assetTypeId:"",status:"",departmentId:"",location:"",value:"",responsiblePerson:"",description:"",attachmentDir:"",attachmentName:"",usedStatus:"",modelUrl:"",gblDir:"",gblFileName:""}),[b,y]=(0,n.useState)(!1),[N,f]=(0,n.useState)(!1),[_,T]=(0,n.useState)(!1);(0,n.useEffect)(()=>{C(),k(),"edit"===a&&(y(!1),S())},[t]);let C=async()=>{var e;let t=await (0,V.C8)();if((null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.code)==200){let{data:e}=null==t?void 0:t.data;o(e)}},k=async()=>{var e;let t=await (0,V.E$)();if((null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.code)==200){let{data:e}=null==t?void 0:t.data;u(e)}},S=()=>{let{usedStatus:e,departmentId:t,status:s}=i,a={...i};1===e&&y(!0),s||(a.status=""),t||(a.departmentId=""),g({...a})},w=async e=>{var t;let s={departmentName:e.text},a=await (0,V.kF)(s);(null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.code)==200?await k():z.ZP.error("Failed to add Department"),x(!1)},D=e=>{let{id:t,value:s}=e.target;g(e=>({...e,[t]:s}))},M=()=>{g({assetName:"",assetId:"",sn:"",assetTypeId:"",status:"",departmentId:"",location:"",value:"",responsiblePerson:"",description:"",attachmentDir:"",attachmentName:"",usedStatus:"",modelUrl:"",gblDir:"",gblFileName:""}),y(!1),f(!1),T(!1),"edit"===a?s({editModalIsopen:!1}):s({createModalIsopen:!1})},I=async()=>{var e;let t=await (0,V.ZJ)(j);(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.code)==200?(M(),r()):z.ZP.error("Failed to add Asset")},F=async()=>{var e,t,s;let{assetName:l,sn:n,assetTypeId:o,status:h,departmentId:u,location:m,value:p,responsiblePerson:x,description:v,usedStatus:g,modelUrl:b,gblDir:y,gblFileName:N,attachmentDir:f,attachmentName:_}=j,T={assetName:l,sn:n,assetTypeId:o,status:h,departmentId:u,location:m,value:p,responsiblePerson:x,description:v,usedStatus:g,modelUrl:b,gblDir:y,gblFileName:N,attachmentDir:f,attachmentName:_},C=null===(e=d.filter(e=>e.id==o))||void 0===e?void 0:e[0],k=null===(t=c.filter(e=>e.id==u))||void 0===t?void 0:t[0];""===N&&(T.glbUrl="");let S={...i,...T,assetType:(null==C?void 0:C.assetType)||"",department:(null==k?void 0:k.departmentName)||""},w=await (0,V.R5)(S);(null==w?void 0:null===(s=w.data)||void 0===s?void 0:s.code)==200?(M(),r(a)):z.ZP.error("Failed to edit Asset")},P=async(e,t,s)=>{var a;"gblFileName"===s&&T(!0),"attachmentName"===s&&f(!0);let l=new FormData;l.append("file",e);let n=await (0,V.N2)(l);if((null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.code)==200){let{data:e}=null==n?void 0:n.data,a={[t]:e.attachmentDir,[s]:e.attachmentName};g(e=>({...e,...a})),"gblFileName"===s&&T(!1),"attachmentName"===s&&f(!1)}else"gblFileName"===s&&T(!1),"attachmentName"===s&&f(!1),z.ZP.error("Upload failure")};return(0,l.jsxs)("div",{className:h()([v().ModalFromStyle,L().createModal]),children:[!m&&(0,l.jsx)(p.u_l,{open:t,modalHeading:"edit"===a?"Edit":"Create a Asset",primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:M,onRequestSubmit:e=>{"edit"===a?F():I()},primaryButtonDisabled:N||_,children:(0,l.jsxs)(p.rjZ,{className:"pl-0 pr-0",children:[(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"assetName",labelText:"Asset Name",placeholder:"Asset Name",required:!0,value:j.assetName,onChange:D})}),"edit"!==a&&(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"assetId",labelText:"Asset ID",placeholder:"house#1",required:!0,value:j.assetId,onChange:D})}),(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"sn",labelText:"SN",placeholder:"SN",required:!0,value:j.sn,onChange:D})}),(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsxs)(p.PhF,{className:"mb-8",id:"assetTypeId",labelText:"Asset Type",value:j.assetTypeId,onChange:D,children:[(0,l.jsx)(p.QlF,{value:"",text:"Choose an option"}),d.map((e,t)=>(0,l.jsx)(p.QlF,{value:e.id,text:e.assetType},e.id))]})}),(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsxs)(p.PhF,{className:"mb-8",id:"status",labelText:"Status",value:j.status,onChange:D,children:[(0,l.jsx)(p.QlF,{value:"",text:"Choose an option"}),(0,l.jsx)(p.QlF,{value:"1",text:"Running"}),(0,l.jsx)(p.QlF,{value:"2",text:"Maintaining"}),(0,l.jsx)(p.QlF,{value:"3",text:"Halt"}),(0,l.jsx)(p.QlF,{value:"4",text:"Stop"})]})}),(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsxs)(p.PhF,{className:"mb-8",id:"departmentId",labelText:(0,l.jsxs)("div",{style:{display:"flex"},onClick:()=>{x(!0)},children:[(0,l.jsx)("span",{className:"mr-1",children:"Department"}),(0,l.jsx)(U.ET,{})]}),value:j.departmentId,onChange:D,children:[(0,l.jsx)(p.QlF,{value:"",text:"Choose an option"}),c.map((e,t)=>(0,l.jsx)(p.QlF,{value:e.id,text:e.departmentName},t))]})}),(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"location",labelText:"Location",placeholder:"Location",value:j.location,onChange:D})}),(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"value",labelText:"Value",placeholder:"Value",value:j.value,onChange:D})}),"edit"===a&&(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"responsiblePerson",labelText:"Responsible Person",placeholder:"Responsible Person",value:j.responsiblePerson,onChange:D})}),(0,l.jsx)(p.sgG,{sm:4,md:8,lg:16,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"description",labelText:"Description",placeholder:"Description",value:j.description,onChange:D})}),"edit"!==a&&(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"responsiblePerson",labelText:"Responsible Person",placeholder:"Responsible Person",value:j.responsiblePerson,onChange:D})}),"edit"===a&&(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)("div",{style:{height:"64px",marginBottom:"32px"},children:(0,l.jsxs)(p.SYO,{legendText:"Has the Asset been used?",name:"radio-button-group",valueSelected:j.usedStatus,onChange:e=>{g(t=>({...t,usedStatus:e}))},id:"usedStatus",disabled:b,children:[(0,l.jsx)(p.EUY,{labelText:"Yes",value:1,id:"radio-1"}),(0,l.jsx)(p.EUY,{labelText:"No",value:0,id:"radio-2"})]})})}),(0,l.jsx)(p.sgG,{sm:4,md:4,lg:8,children:(0,l.jsx)(p.oil,{className:"mb-8",id:"modelUrl",labelText:"3D-URL",placeholder:"3D-URL",value:j.modelUrl,onChange:D})}),(0,l.jsxs)(p.sgG,{sm:4,md:8,lg:16,style:{marginBottom:"16px"},children:[(0,l.jsx)("p",{className:L().cds_file_label,children:"3D-Glb"}),!j.gblFileName&&(0,l.jsx)(Z.Z,{tip:"Loading...",spinning:_,children:(0,l.jsxs)("div",{style:{width:"100%",position:"relative"},children:[(0,l.jsx)(p.awp,{accept:".glb",labelText:(0,l.jsxs)("div",{className:L().uploadDocument,children:[(0,l.jsx)(U.ET,{size:16}),(0,l.jsx)("span",{style:{marginLeft:10},children:"Upload Document"})]}),multiple:!1,onAddFiles:e=>{P(e.target.files[0],"gblDir","gblFileName")}}),(0,l.jsxs)("div",{className:L().cds_label_description,children:[(0,l.jsx)("div",{children:"Supported Formats:"}),(0,l.jsx)("div",{className:L().fileType,children:"Glb"})]})]})}),j.gblFileName&&(0,l.jsx)(p.Py3,{iconDescription:"Delete file",name:j.gblFileName,onDelete:()=>{g(e=>({...e,gblFileName:"",gblDir:""}))},size:"md",status:"edit"})]}),(0,l.jsxs)(p.sgG,{sm:4,md:8,lg:16,children:[(0,l.jsx)("p",{className:L().cds_file_label,children:"Attachments"}),!j.attachmentName&&(0,l.jsx)(Z.Z,{tip:"Loading...",spinning:N,children:(0,l.jsxs)("div",{style:{width:"100%",position:"relative"},children:[(0,l.jsx)(p.awp,{accept:".pdf,.docx",labelText:(0,l.jsxs)("div",{className:L().uploadDocument,children:[(0,l.jsx)(U.ET,{size:16})," ",(0,l.jsx)("span",{style:{marginLeft:10},children:"Upload Document"})]}),multiple:!1,onAddFiles:e=>{P(e.target.files[0],"attachmentDir","attachmentName")}}),(0,l.jsxs)("div",{className:L().cds_label_description,children:[(0,l.jsx)("div",{children:"Supported Formats:"}),(0,l.jsx)("div",{className:L().fileType,children:"PDF"}),(0,l.jsx)("div",{className:L().fileType,children:"Word"})]})]})}),j.attachmentName&&(0,l.jsx)(p.Py3,{iconDescription:"Delete file",name:j.attachmentName,onDelete:()=>{g(e=>({...e,attachmentDir:"",attachmentName:""}))},size:"md",status:"edit"})]})]})}),(0,l.jsx)(O.Z,{addModal:m,modalTitle:"Department",changeModalOpen:e=>{x(!1)},addConfirm:async e=>{await w(e)}})]})},G=function(e){let{formValue:t,isSearchClicked:s,changeState:a,createModalIsopen:i,editModalIsopen:r}=e,d=[{key:"assetId",header:"Asset Id"},{key:"assetName",header:"Asset Name"},{key:"assetType",header:"Asset Type"},{key:"vendorModel",header:"Vendor&Model"},{key:"description",header:"Description"},{key:"sn",header:"SN"},{key:"status",header:"Status"},{key:"more",header:"More"},{key:"edit",header:"Edit"}],o={1:{label:"Running",type:"blue"},2:{label:"Maintaining",type:"green"},3:{label:"Halt",type:"red"},4:{label:"Stop",type:"purple"}},[c,u]=(0,n.useState)(1),[m,x]=(0,n.useState)(10),[j,v]=(0,n.useState)(5),[g,b]=(0,n.useState)(!1),[N,f]=(0,n.useState)({}),[_,T]=(0,n.useState)(!1),[C,k]=(0,n.useState)({}),[S,w]=(0,n.useState)({}),[D,I]=(0,n.useState)([]);(0,n.useEffect)(()=>{s&&(E({...t,pageNum:1,pageSize:10}),a({isSearchClicked:!1}))},[s]),(0,n.useEffect)(()=>{P()},[]);let P=e=>{"edit"===e?E({...t,pageNum:c,pageSize:m}):(a({formValue:{assetId:"",assetName:"",assetType:"",responsiblePerson:""}}),E({pageNum:1,pageSize:10}))};(0,n.useEffect)(()=>{i||r||g||w({})},[r,g]);let E=async e=>{var t;let s={pageNum:c,pageSize:m,...e},a=await (0,V.px)(s);if((null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.code)==200){let{data:e}=null==a?void 0:a.data;I(null==e?void 0:e.list),v(null==e?void 0:e.total),u(null==e?void 0:e.pageNum),x(null==e?void 0:e.pageSize)}},L=async()=>{var e;if(Object.keys(C).length<1)return;let{id:s}=C,a=await (0,V.pu)({id:s});(null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.code)==200&&(T(!1),k({}),E({...t,pageNum:c,pageSize:m}))},U=e=>{let t={...N};t[e.id]?t[e.id]=!1:(Object.keys(t).forEach(e=>{t[e]=!1}),t[e.id]=!0),f(t)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:h()(F().tableStyle,R().assets),children:[(0,l.jsx)(p.xJi,{children:(0,l.jsxs)(p.iA_,{children:[(0,l.jsx)(p.ssF,{children:(0,l.jsx)(p.SCH,{children:d.map((e,t)=>"status"==e.key?(0,l.jsx)(p.xDH,{style:{minWidth:"125px"},children:e.header},"".concat(e.key,"_head")):(0,l.jsx)(p.xDH,{children:e.header},"".concat(e.key,"_head")))})}),(0,l.jsx)(p.RMI,{children:D.map((e,t)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.SCH,{children:d.map(t=>{if("more"===t.key)return(0,l.jsx)(p.pj1,{children:(0,l.jsx)("div",{className:R().tableDetail,onClick:()=>{U(e)},children:"Detail"})},t.key);if("edit"===t.key)return(0,l.jsxs)(p.pj1,{children:[(0,l.jsx)("span",{className:h()(R().editText),onClick:()=>{w(e),setTimeout(()=>{a({editModalIsopen:!0})})},children:"Edit"}),(0,l.jsx)("span",{className:R().delText,onClick:()=>{k(e),T(!0)},children:"Delete"})]},t.key);if("status"===t.key){var s,n;let a=null===(s=o[e[t.key]])||void 0===s?void 0:s.type,i=null===(n=o[e[t.key]])||void 0===n?void 0:n.label;return(0,l.jsx)(p.pj1,{children:i&&(0,l.jsx)(p.Vp9,{type:a,children:i})},t.key)}return"description"===t.key?(0,l.jsx)(p.pj1,{children:(0,l.jsx)("div",{style:{width:"300px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:e[t.key],children:e[t.key]})},t.key):"assetName"===t.key||"assetType"===t.key||"assetId"===t.key?(0,l.jsx)(p.pj1,{children:(0,l.jsx)("div",{style:{width:"100px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},title:e[t.key],children:e[t.key]})},t.key):(0,l.jsx)(p.pj1,{children:e[t.key]},t.key)})},e.id),(0,l.jsx)(p.SCH,{className:R().ChildrenTableTr,style:{height:"auto"},children:(0,l.jsx)(p.pj1,{className:R().ChildrenTableTd,style:{padding:0,borderBottom:N[e.id]?"1px solid #c6c6c6":"1px solid rgba(0,0,0,0)"},colSpan:"9",children:(0,l.jsx)(M,{tableList:[e],isOpen:!!N[e.id]})})})]}))})]})}),(0,l.jsx)(p.tlE,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"",page:c,pageNumberText:"Page Number",pageSize:m,pageSizes:[10,20,30,40,50],totalItems:j,onChange:e=>{let{page:s,pageSize:a}=e;E({...t,pageNum:s,pageSize:a})}})]}),(0,l.jsx)(H,{createModalIsopen:i,changeState:a,reloadingData:P}),(0,l.jsx)(y,{modalTableIsopen:g,setModalTableIsopen:b,tableRowData:S}),(0,l.jsx)(H,{createModalIsopen:r,changeState:a,type:"edit",tableRowData:S,reloadingData:P}),(0,l.jsx)(A.Z,{deleteModalIsopen:_,changeModalOpen:T,delConfirm:L})]})},B=s(8808),q=s(6194);let J=class extends n.Component{render(){let{formValue:e,isSearchClicked:t,createModalIsopen:s,editModalIsopen:a}=this.state;return(0,l.jsxs)("div",{children:[(0,l.jsx)(d(),{children:"Assets"}),(0,l.jsx)(p.aGc,{children:(0,l.jsx)(p.gN6,{onClick:()=>{},children:"Assets"})}),(0,l.jsxs)("div",{className:"bx--col-lg-16 flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(p.X6q,{className:"mt-2 text-[28px] font-normal",children:"Assets"}),(0,l.jsx)(p.X6q,{className:h()("mt-1 text-sm",{[m().textColor]:!0}),children:"List of warehouses for your storage solutions"})]}),(0,l.jsx)(p.zxk,{onClick:()=>{this.setState({createModalIsopen:!0})},isExpressive:!0,size:"md",renderIcon:U.mm,children:"Create a Asset"})]}),(0,l.jsxs)("div",{className:m().searchInputParent,children:[(0,l.jsxs)("div",{className:m().searchInput,children:[(0,l.jsx)(p.oil,{className:"flex-auto w-20",labelText:"Asset ID",id:"assetId",placeholder:"Asset ID",value:e.assetId,onChange:e=>{this.FormValueChange(e)}}),(0,l.jsx)(p.oil,{className:"flex-auto w-20",labelText:"Asset",id:"assetName",placeholder:"Asset",value:e.assetName,onChange:e=>{this.FormValueChange(e)}})]}),(0,l.jsxs)("div",{className:m().searchInput,children:[(0,l.jsx)(p.oil,{className:"flex-auto w-20",labelText:"Type",id:"assetType",placeholder:"Type",value:e.assetType,onChange:e=>{this.FormValueChange(e)}}),(0,l.jsx)(p.oil,{className:"flex-auto w-20",labelText:"Person",id:"responsiblePerson",placeholder:"Person",value:e.responsiblePerson,onChange:e=>{this.FormValueChange(e)}})]}),(0,l.jsxs)("div",{className:m().searchBtnParent,children:[(0,l.jsx)(p.zxk,{onClick:()=>{this.setState({isSearchClicked:!0})},style:{backgroundColor:"#393939"},isExpressive:!0,size:"md",renderIcon:B.ol,iconDescription:"Search",children:"Search"}),(0,l.jsx)(p.zxk,{onClick:()=>{this.initFormValue()},style:{backgroundColor:"#C6C6C6"},isExpressive:!0,size:"md",renderIcon:q.x8,iconDescription:"Close",children:"Cancel"})]})]}),(0,l.jsx)("div",{className:"mt-12",children:(0,l.jsx)(G,{changeState:this.changeState,formValue:e,isSearchClicked:t,editModalIsopen:a,createModalIsopen:s})})]})}constructor(...e){super(...e),this.state={formValue:{assetId:"",assetName:"",assetType:"",responsiblePerson:""},isSearchClicked:!1,refresh:{},createModalIsopen:!1,editModalIsopen:!1},this.changeState=e=>{this.setState(e)},this.initFormValue=()=>{this.setState({formValue:{assetId:"",assetName:"",assetType:"",responsiblePerson:""},isSearchClicked:!0})},this.FormValueChange=e=>{let{id:t,value:s}=e.target,a={...this.state.formValue};a[t]=s,this.setState({formValue:a})}}};var Q=J=(0,a.gn)([i.withRouter],J);let Y=class extends n.Component{render(){return(0,l.jsx)("div",{style:{height:"100%"},children:(0,l.jsx)(Q,{})})}constructor(...e){super(...e),this.componentDidMount=()=>{}}};(Y=(0,a.gn)([i.withRouter],Y)).getLayout=function(e){return(0,l.jsx)(o.Z,{children:e})};var W=Y},5502:function(e,t,s){"use strict";var a=s(9669),l=s.n(a);l().defaults.timeout=3e5,l().defaults.baseURL="/apps/freezonex-aps",l().interceptors.request.use(e=>e,e=>Promise.reject(e)),l().interceptors.response.use(e=>e,e=>e.response),t.Z=l()},648:function(e){e.exports={layoutCont:"MenuLayout_layoutCont__f51Bj",body:"MenuLayout_body__FfPF7",bodyCont:"MenuLayout_bodyCont__TNhVx"}},6813:function(e){e.exports={createModal:"CreateModal_createModal__iJ5NH",cds_file_label:"CreateModal_cds_file_label__fO3Ra",uploadDocument:"CreateModal_uploadDocument__6I2U6",cds_label_description:"CreateModal_cds_label_description__IduLy",fileType:"CreateModal_fileType__XnVdN"}},9523:function(e){e.exports={moreModal:"MoreModal_moreModal__ji0o0",tableParent:"MoreModal_tableParent__Fh7NK",parent:"MoreModal_parent__Og_O7",Left:"MoreModal_Left__B6zZC",Right:"MoreModal_Right__kGkCR"}},759:function(e){e.exports={assetsChildrenTable:"ChildrenTable_assetsChildrenTable__8V4Lv",table3D:"ChildrenTable_table3D__MOe3c"}},366:function(e){e.exports={threePage:"threeJs_threePage__iMvKC",loadingDiv:"threeJs_loadingDiv__um2n8"}},6479:function(e){e.exports={assets:"Table_assets__6gy0l",editText:"Table_editText__THJYh",delText:"Table_delText__OK9Wz",disableEdit:"Table_disableEdit__RXua8",tableDetail:"Table_tableDetail__DLJ0V",ChildrenTableTr:"Table_ChildrenTableTr__NMhRw",ChildrenTableTd:"Table_ChildrenTableTd__1YfGd"}},9235:function(e){e.exports={searchInputParent:"Assets_searchInputParent__tizRY",searchInput:"Assets_searchInput__1M7W0",searchBtnParent:"Assets_searchBtnParent__xlPrf"}},8610:function(e){e.exports={ModalFromStyle:"modal_ModalFromStyle__DkTb3"}},5067:function(e){e.exports={tableStyle:"table_tableStyle___lmjm"}}},function(e){e.O(0,[737,458,669,660,774,888,179],function(){return e(e.s=1637)}),_N_E=e.O()}]);