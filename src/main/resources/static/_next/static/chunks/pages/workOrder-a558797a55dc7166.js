(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[108],{7449:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/workOrder",function(){return t(2937)}])},3552:function(e,a,t){"use strict";t.d(a,{$w:function(){return n},C8:function(){return i},E$:function(){return o},N2:function(){return l},ZJ:function(){return d},kF:function(){return c},pu:function(){return u},px:function(){return r}});var s=t(5502);let r=e=>(0,s.Z)({url:"/apsbackend/asset/list",method:"post",data:e}),l=e=>(0,s.Z)({url:"/apsbackend/asset/upload",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}),d=e=>(0,s.Z)({url:"/apsbackend/asset/create",method:"post",data:e}),n=e=>(0,s.Z)({url:"/apsbackend/asset/usedStatusUpdate",method:"post",data:e}),i=e=>(0,s.Z)({url:"/apsbackend/assetType/allList",method:"post",data:e}),o=e=>(0,s.Z)({url:"/apsbackend/department/allList",method:"post",data:e}),c=e=>(0,s.Z)({url:"/apsbackend/department/create",method:"post",data:e}),u=e=>(0,s.Z)({url:"/apsbackend/asset/delete",method:"post",data:e})},1404:function(e,a,t){"use strict";var s=t(5893),r=t(7294),l=t(2236),d=t(8808),n=t(9992),i=t(3570),o=t(8748),c=t(8115),u=t(6817),h=t(2327),m=t(648),p=t.n(m),x=t(9332),v=t(277);a.Z=e=>{let a=(0,x.useRouter)(),t=(0,x.usePathname)(),{theme:m,setTheme:y}=(0,r.useContext)(v.N),[j,g]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:p().layoutCont,children:[(0,s.jsx)(l.Q2A,{theme:m.headerTheme,children:(0,s.jsxs)(l.h4i,{"aria-label":"SUPCON WMS",children:[(0,s.jsx)(l.zl5,{}),(0,s.jsx)(l.wID,{className:"cursor-pointer","aria-label":j?"Close menu":"Open menu",onClick:()=>{g(!j)},isActive:j,"aria-expanded":j}),(0,s.jsx)(l.nho,{className:"cursor-pointer",prefix:"SUPCON",onClick:()=>{a.push("/dashboard")},children:"APS"}),(0,s.jsxs)(l.sLE,{className:"flex items-center",children:[(0,s.jsx)(l.ZDl,{labelA:"Light",labelB:"Dark",size:"sm",id:"theme-toggle",toggled:"g100"===m.headerTheme,onToggle:e=>{e?y({headerTheme:"g100",contentTheme:"g10",sideNavTheme:"g90"}):y({headerTheme:"white",contentTheme:"white",sideNavTheme:"white"})}}),(0,s.jsx)(l.JMr,{"aria-label":"Settings",children:(0,s.jsx)(d.Zr,{size:20})}),(0,s.jsx)(l.JMr,{"aria-label":"User",children:(0,s.jsx)(n.n5,{size:20})}),(0,s.jsx)(l.JMr,{"aria-label":"Info",tooltipAlignment:"end",children:(0,s.jsx)(i.d,{size:20})})]})]})}),(0,s.jsx)(l.Q2A,{theme:m.sideNavTheme,children:(0,s.jsx)(l.kwZ,{"aria-label":"Side navigation",expanded:j,addFocusListeners:!1,className:"w-10",children:(0,s.jsxs)(l.LDp,{isSideNavExpanded:j,children:[(0,s.jsx)(l.yTF,{className:"cursor-pointer",isSideNavExpanded:j,renderIcon:o.A,onClick:()=>{console.log(j,"isSideNavExpanded"),a.push("/dashboard")},isActive:"/dashboard"===t,children:"Dashboard"}),(0,s.jsx)(l.yTF,{className:"cursor-pointer",isSideNavExpanded:j,renderIcon:c.l4,onClick:()=>{a.push("/assets")},isActive:"/assets"===t,children:"Assets"}),(0,s.jsx)(l.yTF,{className:"cursor-pointer",isSideNavExpanded:j,renderIcon:i.Xx,onClick:()=>{a.push("/inventory")},isActive:"/inventory"===t,children:"Inventory"}),(0,s.jsx)(l.yTF,{className:"cursor-pointer",isSideNavExpanded:j,renderIcon:u.P0,onClick:()=>{a.push("/workOrder")},isActive:"/workOrder"===t,children:"Work Order"}),(0,s.jsx)(l.yTF,{className:"cursor-pointer",isSideNavExpanded:j,renderIcon:h.$m,onClick:()=>{a.push("/schedule")},isActive:"/schedule"===t,children:"Schedule"})]})})}),(0,s.jsx)(l.Q2A,{theme:m.contentTheme,style:{height:"100%"},children:(0,s.jsx)(l.VYI,{style:{height:"100%"},children:(0,s.jsx)("div",{className:p().body,children:(0,s.jsx)("div",{className:p().bodyCont,children:e.children})})})})]})}},8082:function(e,a,t){"use strict";var s=t(5893),r=t(7294),l=t(2236),d=t(8610),n=t.n(d);a.Z=e=>{let{addModal:a,modalTitle:t,changeModalOpen:d,addConfirm:i}=e,[o,c]=(0,r.useState)({text:""}),[u,h]=(0,r.useState)(!0);return(0,s.jsx)("div",{className:n().ModalFromStyle,children:(0,s.jsx)(l.u_l,{open:a,modalHeading:t,primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:()=>{c({text:""}),d(!1)},onRequestSubmit:e=>{h(!0),i({...o})},primaryButtonDisabled:u,children:(0,s.jsx)(l.oil,{id:"addText",labelText:"",placeholder:t,value:o.text,onChange:e=>{c({text:e.target.value}),h(!1)}})})})}},892:function(e,a,t){"use strict";var s=t(5893);t(7294);var r=t(2236),l=t(8610),d=t.n(l);a.Z=e=>{let{deleteModalIsopen:a,changeModalOpen:t,delConfirm:l}=e;return(0,s.jsx)("div",{className:d().ModalFromStyle,children:(0,s.jsx)(r.u_l,{open:a,modalHeading:"Deletion confirmation",primaryButtonText:"Detele",secondaryButtonText:"Cancel",onRequestClose:()=>{t(!1)},onRequestSubmit:e=>{l()},children:(0,s.jsx)("div",{className:"pl-5 pt-5",children:"Are you sure you want to delete?"})})})}},2937:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return W}});var s=t(7582),r=t(5893),l=t(7294),d=t(1163),n=t(2236),i=t(9008),o=t.n(i),c=t(1404),u=t(4184),h=t.n(u),m=t(7926),p=t.n(m),x=t(5067),v=t.n(x),y=t(9562),j=t.n(y),g=t(892),T=t(5502);let b=e=>(0,T.Z)({url:"/apsbackend/workOrder/list",method:"post",data:e}),k=e=>(0,T.Z)({url:"/apsbackend/workOrder/create",method:"post",data:e}),N=e=>(0,T.Z)({url:"/apsbackend/workOrder/delete",method:"post",data:e});var C=function(e){let{formValue:a,changeState:t,isSearchClicked:s,createModalIsopen:d}=e,i=[{key:"orderId",header:"Work Order"},{key:"orderName",header:"Order Name"},{key:"description",header:"Description"},{key:"priority",header:"Priority"},{key:"assetId",header:"Asset ID"},{key:"creationTime",header:"Creation Time"},{key:"dueTime",header:"Due Time"},{key:"status",header:"Status"},{key:"edit",header:"Edit"}],o={1:{label:"Open",type:"green"},2:{label:"In Progress",type:"blue"},3:{label:"Review",type:"purple"},4:{label:"Dued",type:"magenta"},5:{label:"Closed",type:"red"}},[c,u]=(0,l.useState)(1),[m,p]=(0,l.useState)(10),[x,y]=(0,l.useState)(5),[T,k]=(0,l.useState)([]),[C,f]=(0,l.useState)(!1),[S,I]=(0,l.useState)({});(0,l.useEffect)(()=>{s?_({...a,pageNum:1,pageSize:10}):_({pageNum:1,pageSize:10})},[s,d]);let _=async e=>{var a;let t={pageNum:c,pageSize:m,...e},s=await b(t);if((null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.code)==200){let{data:e}=null==s?void 0:s.data;k(null==e?void 0:e.list),y(null==e?void 0:e.total),u(null==e?void 0:e.pageNum),p(null==e?void 0:e.pageSize)}},w=async()=>{var e;if(Object.keys(S).length<1)return;let{id:t}=S,r=await N({id:t});(null==r?void 0:null===(e=r.data)||void 0===e?void 0:e.code)==200&&(f(!1),I({}),s?_({...a,pageNum:1,pageSize:10}):_({pageNum:1,pageSize:10}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:h()(v().tableStyle,j().workOrderTable),children:[(0,r.jsx)(n.xJi,{children:(0,r.jsxs)(n.iA_,{children:[(0,r.jsx)(n.ssF,{children:(0,r.jsx)(n.SCH,{children:i.map((e,a)=>"status"==e.key?(0,r.jsx)(n.xDH,{style:{minWidth:"125px"},children:e.header},e.key):(0,r.jsx)(n.xDH,{children:e.header},e.key))})}),(0,r.jsx)(n.RMI,{children:T.map((e,a)=>(0,r.jsx)(n.SCH,{children:i.map(a=>{if("edit"===a.key)return(0,r.jsx)(n.pj1,{children:(0,r.jsx)("span",{className:j().delText,onClick:()=>{I(e),f(!0)},children:"Delete"})},"".concat(e.assetId,"-").concat(a.key));if("status"===a.key){var t,s;let l=null===(t=o[e[a.key]])||void 0===t?void 0:t.type,d=null===(s=o[e[a.key]])||void 0===s?void 0:s.label;return(0,r.jsx)(n.pj1,{style:{width:120},children:(0,r.jsx)(n.Vp9,{type:l,children:d})},"".concat(e.assetId,"-").concat(a.key))}return(0,r.jsx)(n.pj1,{children:e[a.key]},"".concat(e.assetId,"-").concat(a.key))})},e.assetId))})]})}),(0,r.jsx)(n.tlE,{backwardText:"Previous page",forwardText:"Next page",itemsPerPageText:"",page:c,pageNumberText:"Page Number",pageSize:m,pageSizes:[10,20,30,40,50],totalItems:x,onChange:e=>{let{page:a,pageSize:t}=e;u(a),p(t)}})]}),(0,r.jsx)(g.Z,{deleteModalIsopen:C,changeModalOpen:f,delConfirm:w})]})},f=t(8115),S=t(381),I=t.n(S),_=t(1187),w=t(3552),O=t(8082),F=t(8610),D=t.n(F),M=e=>{let{createModalIsopen:a,changeState:t,createModaType:s,tableData:d}=e,[i,o]=(0,l.useState)([]),[c,u]=(0,l.useState)(!1),[h,m]=(0,l.useState)(!1),[p,x]=(0,l.useState)({orderNameInvalid:!1,orderIdInvalid:!1,assetIdInvalid:!1}),[v,y]=(0,l.useState)({orderName:"",orderId:"",assetId:"",orderType:"",status:"",priority:"",creationTime:"",dueTime:"",assignedTo:"",created_by:"",description:""});(0,l.useEffect)(()=>{T()},[a]);let j=e=>{let{id:a,value:t}=e.target;y(e=>({...e,[a]:t}))},g=()=>{y({orderName:"",orderId:"",assetId:"",orderType:"",status:"",priority:"",creationTime:"",dueTime:"",assignedTo:"",created_by:"",description:""}),x({assetNameInvalid:!1,assetIdInvalid:!1,snInvalid:!1}),m(!1),t({createModalIsopen:!1})},T=async()=>{var e;let a=await (0,w.E$)();if((null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.code)==200){let{data:e}=null==a?void 0:a.data;o(e)}},b=async e=>{var a;let t={departmentName:e.text},s=await (0,w.kF)(t);(null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.code)==200?await T():_.ZP.error("Failed to add Assigned To"),u(!1)},N=async()=>{var e;let a=await k(v);(null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.code)==200?g():_.ZP.error("Failed to create Work Order"),m(!1)};return(0,r.jsxs)("div",{className:D().ModalFromStyle,children:[!c&&(0,r.jsx)(n.u_l,{open:a,modalHeading:"edit"==s?"Work Order - ".concat(null==d?void 0:d.work_order):"create"==s?"Create a New Work Order":void 0,primaryButtonText:"Save",secondaryButtonText:"Cancel",onRequestClose:g,onRequestSubmit:e=>{e.preventDefault();let a={orderNameInvalid:!v.orderName||""===v.orderName,orderIdInvalid:!v.orderId||""===v.orderId,assetIdInvalid:!v.assetId||""===v.assetId};if(x(a),!Object.values(a).some(e=>e)){m(!0),N(v);return}},primaryButtonDisabled:h,children:(0,r.jsxs)(n.rjZ,{className:"pl-0 pr-0",children:[(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsx)(n.oil,{className:"mb-8",id:"orderName",labelText:"Order Name",placeholder:"Order Name",required:!0,invalid:p.orderNameInvalid,invalidText:"This field cannot be empty",value:v.orderName,onChange:j,onFocus:e=>{}})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsx)(n.oil,{className:"mb-8",id:"orderId",labelText:"work Order Id",placeholder:"house#1",required:!0,invalid:p.orderIdInvalid,invalidText:"This field cannot be empty",value:v.orderId,onChange:j})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsx)(n.oil,{className:"mb-8",id:"assetId",labelText:"Asset Id",placeholder:"Asset Id",required:!0,invalid:p.assetIdInvalid,invalidText:"This field cannot be empty",value:v.assetId,onChange:j,onFocus:e=>{}})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsx)(n.oil,{className:"mb-8",id:"orderType",labelText:"Work Order Type",placeholder:"Work Order Type",value:v.orderType,onChange:j})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsxs)(n.PhF,{className:"mb-8",id:"status",labelText:"Status",value:v.status,onChange:j,children:[(0,r.jsx)(n.QlF,{value:"",text:"Choose an option"}),[{label:"Open",type:"green"},{label:"In Progress",type:"blue"},{label:"Review",type:"purple"},{label:"Dued",type:"magenta"},{label:"Closed",type:"red"}].map((e,a)=>(0,r.jsx)(n.QlF,{value:a+1,text:e.label},a))]})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsxs)(n.PhF,{className:"mb-8",id:"priority",labelText:"Priority",value:v.priority,onChange:j,children:[(0,r.jsx)(n.QlF,{value:"",text:"Choose an option"}),(0,r.jsx)(n.QlF,{value:"1",text:"1"}),(0,r.jsx)(n.QlF,{value:"2",text:"2"}),(0,r.jsx)(n.QlF,{value:"3",text:"3"})]})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsx)(n.Mtg,{className:"mb-8",datePickerType:"single",onChange:e=>{y({...v,creationTime:I()(e[0]).format("YYYY-MM-DD")})},children:(0,r.jsx)(n.aj6,{id:"creationTime",labelText:"Creation Time",placeholder:"mm/dd/yyyy"})})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsx)(n.Mtg,{className:"mb-8",datePickerType:"single",onChange:e=>{y({...v,dueTime:I()(e[0]).format("YYYY-MM-DD")})},children:(0,r.jsx)(n.aj6,{id:"dueTime",labelText:"Due Time",placeholder:"mm/dd/yyyy"})})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:8,children:(0,r.jsxs)(n.PhF,{className:"mb-8",id:"assignedTo",labelText:(0,r.jsxs)("div",{style:{display:"flex"},onClick:()=>{u(!0)},children:[(0,r.jsx)("span",{className:"mr-1",children:"Assigned To"}),(0,r.jsx)(f.ET,{})]}),value:v.assignedTo,onChange:j,children:[(0,r.jsx)(n.QlF,{value:"",text:"Choose an option"}),i.map((e,a)=>(0,r.jsx)(n.QlF,{value:e.id,text:e.departmentName},a))]})}),(0,r.jsx)(n.sgG,{sm:2,md:4,lg:16,children:(0,r.jsx)(n.oil,{id:"description",labelText:"Description",placeholder:"Description",value:v.description,onChange:j})})]})}),(0,r.jsx)(O.Z,{addModal:c,modalTitle:"Assigned To",changeModalOpen:e=>{u(!1)},addConfirm:async e=>{await b(e)}})]})},E=t(8808),P=t(6194);let Z=class extends l.Component{render(){let{formValue:e,isSearchClicked:a,createModalIsopen:t,createModaType:s,tableData:l}=this.state;return(0,r.jsxs)("div",{children:[(0,r.jsx)(o(),{children:"Work Order"}),(0,r.jsx)(n.aGc,{children:(0,r.jsx)(n.gN6,{onClick:()=>{},children:"Work Order"})}),(0,r.jsxs)("div",{className:"bx--col-lg-16 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.X6q,{className:"mt-2 text-[28px] font-normal",children:"Work Order"}),(0,r.jsx)(n.X6q,{className:h()("mt-1 text-sm",{[p().textColor]:!0}),children:"Please write your purchase order here"})]}),(0,r.jsx)(n.zxk,{onClick:()=>{this.setState({createModalIsopen:!0})},isExpressive:!0,size:"md",renderIcon:f.mm,children:"Create a Work Order"})]}),(0,r.jsxs)("div",{className:"flex mt-12 space-x-4 items-end",children:[(0,r.jsx)(n.oil,{className:"flex-auto w-20",labelText:"Work Order",id:"orderId",placeholder:"Work Order",value:e.asset_id,onChange:e=>{this.FormValueChange(e)}}),(0,r.jsx)(n.oil,{className:"flex-auto w-20",labelText:"Order Name",id:"orderName",placeholder:"Order Name",value:e.asset,onChange:e=>{this.FormValueChange(e)}}),(0,r.jsx)(n.oil,{className:"flex-auto w-20",labelText:"Type",id:"type",placeholder:"Type",value:e.type,onChange:e=>{this.FormValueChange(e)}}),(0,r.jsx)(n.oil,{className:"flex-auto w-20",labelText:"Creation Time",id:"creationTime",placeholder:"Creation Time",value:e.person,onChange:e=>{this.FormValueChange(e)}}),(0,r.jsx)(n.zxk,{onClick:()=>{this.setState({isSearchClicked:!0})},style:{backgroundColor:"#393939"},isExpressive:!0,size:"md",renderIcon:E.ol,iconDescription:"Search",children:"Search"}),(0,r.jsx)(n.zxk,{onClick:()=>{this.initFormValue()},style:{backgroundColor:"#C6C6C6"},isExpressive:!0,size:"md",renderIcon:P.x8,iconDescription:"Close",children:"Cancet"})]}),(0,r.jsx)("div",{className:"mt-12",children:(0,r.jsx)(C,{changeState:this.changeState,formValue:e,createModalIsopen:t,isSearchClicked:a})}),(0,r.jsx)(M,{createModalIsopen:t,createModaType:s,tableData:l,changeState:this.changeState})]})}constructor(...e){super(...e),this.state={formValue:{orderId:"",orderName:"",type:"",creationTime:""},isSearchClicked:!1,tableData:{},createModalIsopen:!1,createModaType:"create"},this.componentDidMount=()=>{},this.changeState=e=>{this.setState(e)},this.initFormValue=()=>{this.setState({formValue:{orderId:"",orderName:"",type:"",creationTime:""},isSearchClicked:!1})},this.FormValueChange=e=>{let{id:a,value:t}=e.target,s={...this.state.formValue};s[a]=t,this.setState({formValue:s})}}};var A=Z=(0,s.gn)([d.withRouter],Z);let z=class extends l.Component{render(){return(0,r.jsxs)("div",{style:{height:"100%"},children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"workOrder"})}),(0,r.jsx)(A,{})]})}constructor(...e){super(...e),this.componentDidMount=()=>{}}};(z=(0,s.gn)([d.withRouter],z)).getLayout=function(e){return(0,r.jsx)(c.Z,{children:e})};var W=z},5502:function(e,a,t){"use strict";var s=t(9669),r=t.n(s);r().defaults.timeout=1e4,r().defaults.baseURL="/apps/freezonex-aps",r().interceptors.request.use(e=>e,e=>Promise.reject(e)),r().interceptors.response.use(e=>e,e=>e.response),a.Z=r()},648:function(e){e.exports={layoutCont:"MenuLayout_layoutCont__f51Bj",body:"MenuLayout_body__FfPF7",bodyCont:"MenuLayout_bodyCont__TNhVx"}},9562:function(e){e.exports={workOrderTable:"Table_workOrderTable__rDp1g",editText:"Table_editText__Fq3_E",delText:"Table_delText__WE4pR"}},7926:function(e){e.exports={textColor:"WorkOrder_textColor__jmycS"}},8610:function(e){e.exports={ModalFromStyle:"modal_ModalFromStyle__DkTb3"}},5067:function(e){e.exports={tableStyle:"table_tableStyle___lmjm"}}},function(e){e.O(0,[885,848,669,774,888,179],function(){return e(e.s=7449)}),_N_E=e.O()}]);